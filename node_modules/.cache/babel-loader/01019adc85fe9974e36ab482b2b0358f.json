{"ast":null,"code":"var _jsxFileName = \"/Users/JeHongHwang/Desktop/leekang/src/components/provider/RegisterProvider.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { firestoreConnect } from 'react-redux-firebase';\nimport RegisterProviderStep1 from './RegisterProviderStep1';\nimport RegisterProviderStep2 from './RegisterProviderStep2';\nimport RegisterProviderStep3 from './RegisterProviderStep3';\nimport './registerProvider.css';\nimport { registerIntroduction } from '../../store/actions/editorAction';\nimport M from 'materialize-css';\nimport { Button } from '@material-ui/core';\n\nclass RegisterProvider extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      currentStep: 1,\n      introduction: '',\n      editor_profileImg_file: '',\n      editor_profileImg_file_preview: '',\n      career_year: '',\n      career: '',\n      portfolio: ''\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.id]: e.target.value\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n    };\n\n    this.handleUpload = e => {\n      e.preventDefault();\n      let reader = new FileReader();\n      let file = e.target.files[0];\n      let target_id = e.target.id;\n\n      reader.onloadend = () => {\n        this.setState({\n          [target_id]: file,\n          [target_id + '_preview']: reader.result\n        });\n      };\n\n      if (file) {\n        reader.readAsDataURL(file);\n        e.target.value = '';\n      }\n    };\n\n    this.deleteImage = e => {\n      e.preventDefault();\n      this.setState({\n        [e.target.id]: '',\n        [e.target.id + '_preview']: ''\n      });\n    };\n\n    this._submit = () => {\n      this.props.registerIntroduction(this.state);\n    };\n\n    this._next = () => {\n      const required_all = [...document.querySelectorAll('._required')];\n      let current_required = required_all.filter(item => !this.state[item.id]);\n\n      if (current_required.length) {\n        this.setState({\n          need: true\n        });\n        return;\n      }\n\n      let currentStep = this.state.currentStep;\n      currentStep = currentStep >= 2 ? 3 : currentStep + 1;\n      this.setState({\n        currentStep,\n        need: false\n      });\n    };\n\n    this._prev = () => {\n      let currentStep = this.state.currentStep;\n      currentStep = currentStep <= 1 ? 1 : currentStep - 1;\n      this.setState({\n        currentStep\n      });\n    };\n  }\n\n  componentDidMount() {\n    M.AutoInit();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.currentStep !== this.state.currentStep) {\n      M.CharacterCounter.init(document.querySelectorAll('.has-character-counter'));\n    }\n  }\n\n  render() {\n    const profile = this.props.profile;\n    return React.createElement(\"div\", {\n      className: \"registerProvider container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(RegisterProviderStep1, {\n      currentStep: this.state.currentStep,\n      need: this.state.need,\n      introduction: this.state.introduction,\n      handleChange: this.handleChange,\n      handleUpload: this.handleUpload,\n      deleteImage: this.deleteImage,\n      editor_profileImg_file: this.state.editor_profileImg_file,\n      editor_profileImg_file_preview: this.state.editor_profileImg_file_preview,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }), React.createElement(RegisterProviderStep2, {\n      currentStep: this.state.currentStep,\n      need: this.state.need,\n      handleChange: this.handleChange,\n      career: this.state.career,\n      career_year: this.state.career_year,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }), React.createElement(RegisterProviderStep3, {\n      currentStep: this.state.currentStep,\n      need: this.state.need,\n      handleChange: this.handleChange,\n      portfolio: this.state.portfolio,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"card-action\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"register-buttons\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, this.state.currentStep < 3 ? React.createElement(\"button\", {\n      onClick: this._next,\n      className: \"btn indigo right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, \"\\uB2E4\\uC74C\") : null, this.state.currentStep !== 1 ? React.createElement(\"button\", {\n      onClick: this._prev,\n      className: \"btn indigo left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, \"\\uC774\\uC804\") : null, this.state.currentStep == 3 && React.createElement(\"button\", {\n      onClick: this._submit,\n      className: \"btn indigo right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, \"\\uC81C\\uCD9C\\uD558\\uAE30\"))))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    profile: state.firebase.profile\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    registerIntroduction: introData => dispatch(registerIntroduction(introData))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(RegisterProvider);","map":{"version":3,"sources":["/Users/JeHongHwang/Desktop/leekang/src/components/provider/RegisterProvider.js"],"names":["React","Component","connect","compose","firestoreConnect","RegisterProviderStep1","RegisterProviderStep2","RegisterProviderStep3","registerIntroduction","M","Button","RegisterProvider","state","currentStep","introduction","editor_profileImg_file","editor_profileImg_file_preview","career_year","career","portfolio","handleChange","e","setState","target","id","value","handleSubmit","preventDefault","handleUpload","reader","FileReader","file","files","target_id","onloadend","result","readAsDataURL","deleteImage","_submit","props","_next","required_all","document","querySelectorAll","current_required","filter","item","length","need","_prev","componentDidMount","AutoInit","componentDidUpdate","prevProps","prevState","CharacterCounter","init","render","profile","mapStateToProps","firebase","mapDispatchToProps","dispatch","introData"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport { connect } from 'react-redux'\nimport { compose } from 'redux'\nimport { firestoreConnect } from 'react-redux-firebase'\nimport RegisterProviderStep1 from './RegisterProviderStep1'\nimport RegisterProviderStep2 from './RegisterProviderStep2'\nimport RegisterProviderStep3 from './RegisterProviderStep3'\nimport './registerProvider.css'\nimport { registerIntroduction } from '../../store/actions/editorAction'\nimport M from 'materialize-css';\nimport { Button } from '@material-ui/core';\n\nclass RegisterProvider extends Component {\n\tstate = {\n\t\tcurrentStep: 1,\n\t\tintroduction: '',\n\t\teditor_profileImg_file: '',\n\t\teditor_profileImg_file_preview: '',\n\t\tcareer_year: '',\n\t\tcareer: '',\n\t\tportfolio: '',\n\t}\n\tcomponentDidMount(){\n\t\tM.AutoInit();\n\t}\n\tcomponentDidUpdate(prevProps, prevState){\n\t\tif(prevState.currentStep !== this.state.currentStep){\n\t\t\tM.CharacterCounter.init(document.querySelectorAll('.has-character-counter'));\n\t\t}\n\t}\n\thandleChange = (e) => {\n\t\tthis.setState({\n\t\t\t[e.target.id] : e.target.value\n\t\t})\n\t}\n\n\thandleSubmit = (e) => {\n\t\te.preventDefault();\n\t}\n\n\thandleUpload = (e) => {\n\t\te.preventDefault();\n\t\tlet reader = new FileReader();\n\t\tlet file = e.target.files[0];\n\t\tlet target_id = e.target.id;\n\n\t\treader.onloadend = () => {\n\t\t\tthis.setState({\n\t\t\t\t[target_id]: file,\n\t\t\t\t[target_id + '_preview']: reader.result,\n\t\t\t})\n\t\t}\n\n\t\tif(file) {\n\t\t\treader.readAsDataURL(file);\n\t\t\te.target.value = '';\n\t\t}\n\t}\n\tdeleteImage = (e) => {\n\t\te.preventDefault();\n\t\tthis.setState({\n\t\t\t[e.target.id]: '',\n\t\t\t[e.target.id + '_preview']: '',\n\t\t})\n\t}\n\t_submit = () => {\n\t\tthis.props.registerIntroduction(this.state);\n\t}\n\t_next = () => {\n\t\tconst required_all = [...document.querySelectorAll('._required')];\n\t\tlet current_required = required_all.filter(item => !(this.state[item.id]));\n\n\t\tif(current_required.length){\n\t\t\tthis.setState({\n\t\t\t\tneed: true,\n\t\t\t})\n\t\t\treturn;\n\t\t}\n\n\t\tlet currentStep = this.state.currentStep;\n\t\tcurrentStep = currentStep >= 2? 3 : currentStep +1 ;\n\t\tthis.setState({\n\t\t\tcurrentStep,\n\t\t\tneed: false,\n\t\t})\n\t}\n\n\t_prev = () => {\n\t\tlet currentStep = this.state.currentStep;\n\t\tcurrentStep = currentStep <= 1? 1: currentStep -1;\n\t\tthis.setState({\n\t\t\tcurrentStep,\n\t\t})\n\t}\n\n\t\n\trender(){\n\t\tconst { profile } = this.props;\n\t\treturn(\n\t\t\t<div className=\"registerProvider container\" >\n\t\t\t\t<div className=\"card\">\n\t\t\t\t<form onSubmit = { this.handleSubmit}>\n\t\t\t\t\t<RegisterProviderStep1 \n\t\t\t\t\t\tcurrentStep = {this.state.currentStep}\n\t\t\t\t\t\tneed = {this.state.need}\n\t\t\t\t\t\tintroduction = {this.state.introduction}\n\t\t\t\t\t\thandleChange = {this.handleChange}\n\t\t\t\t\t\thandleUpload = {this.handleUpload}\n\t\t\t\t\t\tdeleteImage = {this.deleteImage}\n\t\t\t\t\t\teditor_profileImg_file={this.state.editor_profileImg_file}\n\t\t\t\t\t\teditor_profileImg_file_preview = {this.state.editor_profileImg_file_preview}/>\n\t\t\t\t\t<RegisterProviderStep2\n\t\t\t\t\t\tcurrentStep = {this.state.currentStep}\n\t\t\t\t\t\tneed={this.state.need}\n\t\t\t\t\t\thandleChange = {this.handleChange}\n\t\t\t\t\t\tcareer = {this.state.career} \n\t\t\t\t\t\tcareer_year = {this.state.career_year}/>\n\t\t\t\t\t<RegisterProviderStep3\n\t\t\t\t\t\tcurrentStep = {this.state.currentStep}\n\t\t\t\t\t\tneed={this.state.need}\n\t\t\t\t\t\thandleChange = {this.handleChange}\n\t\t\t\t\t\tportfolio = {this.state.portfolio} />\t\t\t\t\n\t\t\t\t\t<div className=\"card-action\">\n\t\t\t\t\t\t<div className=\"register-buttons\">\n\t\t\t\t\t\t\t{this.state.currentStep < 3 ? <button onClick={this._next} className=\"btn indigo right\">다음</button> : null }\n\t\t\t\t\t\t\t{ this.state.currentStep !== 1 ? <button onClick={this._prev} className=\"btn indigo left\">이전</button> : null }\n\t\t\t\t\t\t\t{ this.state.currentStep == 3 &&\n\t\t\t\t\t\t\t\t<button onClick = {this._submit} className=\"btn indigo right\">제출하기</button>}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn{\n\t\tprofile: state.firebase.profile,\n\t}\n}\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn{\n\t\tregisterIntroduction : (introData) => dispatch(registerIntroduction(introData))\n\t}\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(RegisterProvider);"]},"metadata":{},"sourceType":"module"}