{"ast":null,"code":"var _DEFAULT_STYLE_MAP, _ENTITY_ATTR_MAP, _DATA_TO_ATTR;\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    keys.push.apply(keys, Object.getOwnPropertySymbols(object));\n  }\n\n  if (enumerableOnly) keys = keys.filter(function (sym) {\n    return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n  });\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport combineOrderedStyles from './helpers/combineOrderedStyles';\nimport normalizeAttributes from './helpers/normalizeAttributes';\nimport styleToCSS from './helpers/styleToCSS';\nimport { getEntityRanges, BLOCK_TYPE, ENTITY_TYPE, INLINE_STYLE } from 'draft-js-utils';\nvar BOLD = INLINE_STYLE.BOLD,\n    CODE = INLINE_STYLE.CODE,\n    ITALIC = INLINE_STYLE.ITALIC,\n    STRIKETHROUGH = INLINE_STYLE.STRIKETHROUGH,\n    UNDERLINE = INLINE_STYLE.UNDERLINE;\nvar INDENT = '  ';\nvar BREAK = '<br>';\nvar DATA_ATTRIBUTE = /^data-([a-z0-9-]+)$/;\nvar DEFAULT_STYLE_MAP = (_DEFAULT_STYLE_MAP = {}, _defineProperty(_DEFAULT_STYLE_MAP, BOLD, {\n  element: 'strong'\n}), _defineProperty(_DEFAULT_STYLE_MAP, CODE, {\n  element: 'code'\n}), _defineProperty(_DEFAULT_STYLE_MAP, ITALIC, {\n  element: 'em'\n}), _defineProperty(_DEFAULT_STYLE_MAP, STRIKETHROUGH, {\n  element: 'del'\n}), _defineProperty(_DEFAULT_STYLE_MAP, UNDERLINE, {\n  element: 'u'\n}), _DEFAULT_STYLE_MAP); // Order: inner-most style to outer-most.\n// Examle: <em><strong>foo</strong></em>\n\nvar DEFAULT_STYLE_ORDER = [BOLD, ITALIC, UNDERLINE, STRIKETHROUGH, CODE]; // Map entity data to element attributes.\n\nvar ENTITY_ATTR_MAP = (_ENTITY_ATTR_MAP = {}, _defineProperty(_ENTITY_ATTR_MAP, ENTITY_TYPE.LINK, {\n  url: 'href',\n  href: 'href',\n  rel: 'rel',\n  target: 'target',\n  title: 'title',\n  className: 'class'\n}), _defineProperty(_ENTITY_ATTR_MAP, ENTITY_TYPE.IMAGE, {\n  src: 'src',\n  height: 'height',\n  width: 'width',\n  alt: 'alt',\n  className: 'class'\n}), _ENTITY_ATTR_MAP); // Map entity data to element attributes.\n\nvar DATA_TO_ATTR = (_DATA_TO_ATTR = {}, _defineProperty(_DATA_TO_ATTR, ENTITY_TYPE.LINK, function (entityType, entity) {\n  var attrMap = ENTITY_ATTR_MAP.hasOwnProperty(entityType) ? ENTITY_ATTR_MAP[entityType] : {};\n  var data = entity.getData();\n  var attrs = {};\n\n  for (var _i = 0, _Object$keys = Object.keys(data); _i < _Object$keys.length; _i++) {\n    var dataKey = _Object$keys[_i];\n    var dataValue = data[dataKey];\n\n    if (attrMap.hasOwnProperty(dataKey)) {\n      var attrKey = attrMap[dataKey];\n      attrs[attrKey] = dataValue;\n    } else if (DATA_ATTRIBUTE.test(dataKey)) {\n      attrs[dataKey] = dataValue;\n    }\n  }\n\n  return attrs;\n}), _defineProperty(_DATA_TO_ATTR, ENTITY_TYPE.IMAGE, function (entityType, entity) {\n  var attrMap = ENTITY_ATTR_MAP.hasOwnProperty(entityType) ? ENTITY_ATTR_MAP[entityType] : {};\n  var data = entity.getData();\n  var attrs = {};\n\n  for (var _i2 = 0, _Object$keys2 = Object.keys(data); _i2 < _Object$keys2.length; _i2++) {\n    var dataKey = _Object$keys2[_i2];\n    var dataValue = data[dataKey];\n\n    if (attrMap.hasOwnProperty(dataKey)) {\n      var attrKey = attrMap[dataKey];\n      attrs[attrKey] = dataValue;\n    } else if (DATA_ATTRIBUTE.test(dataKey)) {\n      attrs[dataKey] = dataValue;\n    }\n  }\n\n  return attrs;\n}), _DATA_TO_ATTR); // The reason this returns an array is because a single block might get wrapped\n// in two tags.\n\nfunction getTags(blockType, defaultBlockTag) {\n  switch (blockType) {\n    case BLOCK_TYPE.HEADER_ONE:\n      return ['h1'];\n\n    case BLOCK_TYPE.HEADER_TWO:\n      return ['h2'];\n\n    case BLOCK_TYPE.HEADER_THREE:\n      return ['h3'];\n\n    case BLOCK_TYPE.HEADER_FOUR:\n      return ['h4'];\n\n    case BLOCK_TYPE.HEADER_FIVE:\n      return ['h5'];\n\n    case BLOCK_TYPE.HEADER_SIX:\n      return ['h6'];\n\n    case BLOCK_TYPE.UNORDERED_LIST_ITEM:\n    case BLOCK_TYPE.ORDERED_LIST_ITEM:\n      return ['li'];\n\n    case BLOCK_TYPE.BLOCKQUOTE:\n      return ['blockquote'];\n\n    case BLOCK_TYPE.CODE:\n      return ['pre', 'code'];\n\n    case BLOCK_TYPE.ATOMIC:\n      return ['figure'];\n\n    default:\n      if (defaultBlockTag === null) {\n        return [];\n      }\n\n      return [defaultBlockTag || 'p'];\n  }\n}\n\nfunction getWrapperTag(blockType) {\n  switch (blockType) {\n    case BLOCK_TYPE.UNORDERED_LIST_ITEM:\n      return 'ul';\n\n    case BLOCK_TYPE.ORDERED_LIST_ITEM:\n      return 'ol';\n\n    default:\n      return null;\n  }\n}\n\nvar MarkupGenerator =\n/*#__PURE__*/\nfunction () {\n  // These are related to state.\n  // These are related to user-defined options.\n  function MarkupGenerator(contentState, options) {\n    _classCallCheck(this, MarkupGenerator);\n\n    _defineProperty(this, \"blocks\", void 0);\n\n    _defineProperty(this, \"contentState\", void 0);\n\n    _defineProperty(this, \"currentBlock\", void 0);\n\n    _defineProperty(this, \"indentLevel\", void 0);\n\n    _defineProperty(this, \"output\", void 0);\n\n    _defineProperty(this, \"totalBlocks\", void 0);\n\n    _defineProperty(this, \"wrapperTag\", void 0);\n\n    _defineProperty(this, \"options\", void 0);\n\n    _defineProperty(this, \"inlineStyles\", void 0);\n\n    _defineProperty(this, \"inlineStyleFn\", void 0);\n\n    _defineProperty(this, \"styleOrder\", void 0);\n\n    if (options == null) {\n      options = {};\n    }\n\n    this.contentState = contentState;\n    this.options = options;\n\n    var _combineOrderedStyles = combineOrderedStyles(options.inlineStyles, [DEFAULT_STYLE_MAP, DEFAULT_STYLE_ORDER]),\n        _combineOrderedStyles2 = _slicedToArray(_combineOrderedStyles, 2),\n        inlineStyles = _combineOrderedStyles2[0],\n        styleOrder = _combineOrderedStyles2[1];\n\n    this.inlineStyles = inlineStyles;\n    this.inlineStyleFn = options.inlineStyleFn;\n    this.styleOrder = styleOrder;\n  }\n\n  _createClass(MarkupGenerator, [{\n    key: \"generate\",\n    value: function generate() {\n      this.output = [];\n      this.blocks = this.contentState.getBlocksAsArray();\n      this.totalBlocks = this.blocks.length;\n      this.currentBlock = 0;\n      this.indentLevel = 0;\n      this.wrapperTag = null;\n\n      while (this.currentBlock < this.totalBlocks) {\n        this.processBlock();\n      }\n\n      this.closeWrapperTag();\n      return this.output.join('').trim();\n    }\n  }, {\n    key: \"processBlock\",\n    value: function processBlock() {\n      var _this$options = this.options,\n          blockRenderers = _this$options.blockRenderers,\n          defaultBlockTag = _this$options.defaultBlockTag;\n      var block = this.blocks[this.currentBlock];\n      var blockType = block.getType();\n      var newWrapperTag = getWrapperTag(blockType);\n\n      if (this.wrapperTag !== newWrapperTag) {\n        if (this.wrapperTag) {\n          this.closeWrapperTag();\n        }\n\n        if (newWrapperTag) {\n          this.openWrapperTag(newWrapperTag);\n        }\n      }\n\n      this.indent(); // Allow blocks to be rendered using a custom renderer.\n\n      var customRenderer = blockRenderers != null && blockRenderers.hasOwnProperty(blockType) ? blockRenderers[blockType] : null;\n      var customRendererOutput = customRenderer ? customRenderer(block) : null; // Renderer can return null, which will cause processing to continue as normal.\n\n      if (customRendererOutput != null) {\n        this.output.push(customRendererOutput);\n        this.output.push('\\n');\n        this.currentBlock += 1;\n        return;\n      }\n\n      this.writeStartTag(block, defaultBlockTag);\n      this.output.push(this.renderBlockContent(block)); // Look ahead and see if we will nest list.\n\n      var nextBlock = this.getNextBlock();\n\n      if (canHaveDepth(blockType) && nextBlock && nextBlock.getDepth() === block.getDepth() + 1) {\n        this.output.push('\\n'); // This is a litle hacky: temporarily stash our current wrapperTag and\n        // render child list(s).\n\n        var thisWrapperTag = this.wrapperTag;\n        this.wrapperTag = null;\n        this.indentLevel += 1;\n        this.currentBlock += 1;\n        this.processBlocksAtDepth(nextBlock.getDepth());\n        this.wrapperTag = thisWrapperTag;\n        this.indentLevel -= 1;\n        this.indent();\n      } else {\n        this.currentBlock += 1;\n      }\n\n      this.writeEndTag(block, defaultBlockTag);\n    }\n  }, {\n    key: \"processBlocksAtDepth\",\n    value: function processBlocksAtDepth(depth) {\n      var block = this.blocks[this.currentBlock];\n\n      while (block && block.getDepth() === depth) {\n        this.processBlock();\n        block = this.blocks[this.currentBlock];\n      }\n\n      this.closeWrapperTag();\n    }\n  }, {\n    key: \"getNextBlock\",\n    value: function getNextBlock() {\n      return this.blocks[this.currentBlock + 1];\n    }\n  }, {\n    key: \"writeStartTag\",\n    value: function writeStartTag(block, defaultBlockTag) {\n      var tags = getTags(block.getType(), defaultBlockTag);\n      var attrString;\n\n      if (this.options.blockStyleFn) {\n        var _ref = this.options.blockStyleFn(block) || {},\n            attributes = _ref.attributes,\n            _style = _ref.style; // Normalize `className` -> `class`, etc.\n\n\n        attributes = normalizeAttributes(attributes);\n\n        if (_style != null) {\n          var styleAttr = styleToCSS(_style);\n          attributes = attributes == null ? {\n            style: styleAttr\n          } : _objectSpread({}, attributes, {\n            style: styleAttr\n          });\n        }\n\n        attrString = stringifyAttrs(attributes);\n      } else {\n        attrString = '';\n      }\n\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = tags[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var tag = _step.value;\n          this.output.push(\"<\".concat(tag).concat(attrString, \">\"));\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n            _iterator[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"writeEndTag\",\n    value: function writeEndTag(block, defaultBlockTag) {\n      var tags = getTags(block.getType(), defaultBlockTag);\n\n      if (tags.length === 1) {\n        this.output.push(\"</\".concat(tags[0], \">\\n\"));\n      } else {\n        var output = [];\n        var _iteratorNormalCompletion2 = true;\n        var _didIteratorError2 = false;\n        var _iteratorError2 = undefined;\n\n        try {\n          for (var _iterator2 = tags[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n            var tag = _step2.value;\n            output.unshift(\"</\".concat(tag, \">\"));\n          }\n        } catch (err) {\n          _didIteratorError2 = true;\n          _iteratorError2 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n              _iterator2[\"return\"]();\n            }\n          } finally {\n            if (_didIteratorError2) {\n              throw _iteratorError2;\n            }\n          }\n        }\n\n        this.output.push(output.join('') + '\\n');\n      }\n    }\n  }, {\n    key: \"openWrapperTag\",\n    value: function openWrapperTag(wrapperTag) {\n      this.wrapperTag = wrapperTag;\n      this.indent();\n      this.output.push(\"<\".concat(wrapperTag, \">\\n\"));\n      this.indentLevel += 1;\n    }\n  }, {\n    key: \"closeWrapperTag\",\n    value: function closeWrapperTag() {\n      var wrapperTag = this.wrapperTag;\n\n      if (wrapperTag) {\n        this.indentLevel -= 1;\n        this.indent();\n        this.output.push(\"</\".concat(wrapperTag, \">\\n\"));\n        this.wrapperTag = null;\n      }\n    }\n  }, {\n    key: \"indent\",\n    value: function indent() {\n      this.output.push(INDENT.repeat(this.indentLevel));\n    }\n  }, {\n    key: \"withCustomInlineStyles\",\n    value: function withCustomInlineStyles(content, styleSet) {\n      if (!this.inlineStyleFn) {\n        return content;\n      }\n\n      var renderConfig = this.inlineStyleFn(styleSet);\n\n      if (!renderConfig) {\n        return content;\n      }\n\n      var _renderConfig$element = renderConfig.element,\n          element = _renderConfig$element === void 0 ? 'span' : _renderConfig$element,\n          attributes = renderConfig.attributes,\n          style = renderConfig.style;\n      var attrString = stringifyAttrs(_objectSpread({}, attributes, {\n        style: style && styleToCSS(style)\n      }));\n      return \"<\".concat(element).concat(attrString, \">\").concat(content, \"</\").concat(element, \">\");\n    }\n  }, {\n    key: \"renderBlockContent\",\n    value: function renderBlockContent(block) {\n      var _this = this;\n\n      var blockType = block.getType();\n      var text = block.getText();\n\n      if (text === '') {\n        // Prevent element collapse if completely empty.\n        return BREAK;\n      }\n\n      text = this.preserveWhitespace(text);\n      var charMetaList = block.getCharacterList();\n      var entityPieces = getEntityRanges(text, charMetaList);\n      return entityPieces.map(function (_ref2) {\n        var _ref3 = _slicedToArray(_ref2, 2),\n            entityKey = _ref3[0],\n            stylePieces = _ref3[1];\n\n        var content = stylePieces.map(function (_ref4) {\n          var _ref5 = _slicedToArray(_ref4, 2),\n              text = _ref5[0],\n              styleSet = _ref5[1];\n\n          var content = encodeContent(text);\n          var _iteratorNormalCompletion3 = true;\n          var _didIteratorError3 = false;\n          var _iteratorError3 = undefined;\n\n          try {\n            for (var _iterator3 = _this.styleOrder[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n              var _styleName = _step3.value; // If our block type is CODE then don't wrap inline code elements.\n\n              if (_styleName === CODE && blockType === BLOCK_TYPE.CODE) {\n                continue;\n              }\n\n              if (styleSet.has(_styleName)) {\n                var _this$inlineStyles$_s = _this.inlineStyles[_styleName],\n                    element = _this$inlineStyles$_s.element,\n                    attributes = _this$inlineStyles$_s.attributes,\n                    _style2 = _this$inlineStyles$_s.style;\n\n                if (element == null) {\n                  element = 'span';\n                } // Normalize `className` -> `class`, etc.\n\n\n                attributes = normalizeAttributes(attributes);\n\n                if (_style2 != null) {\n                  var styleAttr = styleToCSS(_style2);\n                  attributes = attributes == null ? {\n                    style: styleAttr\n                  } : _objectSpread({}, attributes, {\n                    style: styleAttr\n                  });\n                }\n\n                var attrString = stringifyAttrs(attributes);\n                content = \"<\".concat(element).concat(attrString, \">\").concat(content, \"</\").concat(element, \">\");\n              }\n            }\n          } catch (err) {\n            _didIteratorError3 = true;\n            _iteratorError3 = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion3 && _iterator3[\"return\"] != null) {\n                _iterator3[\"return\"]();\n              }\n            } finally {\n              if (_didIteratorError3) {\n                throw _iteratorError3;\n              }\n            }\n          }\n\n          return _this.withCustomInlineStyles(content, styleSet);\n        }).join('');\n        var entity = entityKey ? _this.contentState.getEntity(entityKey) : null; // Note: The `toUpperCase` below is for compatability with some libraries that use lower-case for image blocks.\n\n        var entityType = entity == null ? null : entity.getType().toUpperCase();\n        var entityStyle;\n\n        if (entity != null && _this.options.entityStyleFn && (entityStyle = _this.options.entityStyleFn(entity))) {\n          var _entityStyle = entityStyle,\n              element = _entityStyle.element,\n              attributes = _entityStyle.attributes,\n              _style3 = _entityStyle.style;\n\n          if (element == null) {\n            element = 'span';\n          } // Normalize `className` -> `class`, etc.\n\n\n          attributes = normalizeAttributes(attributes);\n\n          if (_style3 != null) {\n            var styleAttr = styleToCSS(_style3);\n            attributes = attributes == null ? {\n              style: styleAttr\n            } : _objectSpread({}, attributes, {\n              style: styleAttr\n            });\n          }\n\n          var attrString = stringifyAttrs(attributes);\n          return \"<\".concat(element).concat(attrString, \">\").concat(content, \"</\").concat(element, \">\");\n        } else if (entityType != null && entityType === ENTITY_TYPE.LINK) {\n          var attrs = DATA_TO_ATTR.hasOwnProperty(entityType) ? DATA_TO_ATTR[entityType](entityType, entity) : null;\n\n          var _attrString = stringifyAttrs(attrs);\n\n          return \"<a\".concat(_attrString, \">\").concat(content, \"</a>\");\n        } else if (entityType != null && entityType === ENTITY_TYPE.IMAGE) {\n          var _attrs = DATA_TO_ATTR.hasOwnProperty(entityType) ? DATA_TO_ATTR[entityType](entityType, entity) : null;\n\n          var _attrString2 = stringifyAttrs(_attrs);\n\n          return \"<img\".concat(_attrString2, \"/>\");\n        } else {\n          return content;\n        }\n      }).join('');\n    }\n  }, {\n    key: \"preserveWhitespace\",\n    value: function preserveWhitespace(text) {\n      var length = text.length; // Prevent leading/trailing/consecutive whitespace collapse.\n\n      var newText = new Array(length);\n\n      for (var i = 0; i < length; i++) {\n        if (text[i] === ' ' && (i === 0 || i === length - 1 || text[i - 1] === ' ')) {\n          newText[i] = '\\xA0';\n        } else {\n          newText[i] = text[i];\n        }\n      }\n\n      return newText.join('');\n    }\n  }]);\n\n  return MarkupGenerator;\n}();\n\nfunction stringifyAttrs(attrs) {\n  if (attrs == null) {\n    return '';\n  }\n\n  var parts = [];\n\n  for (var _i3 = 0, _Object$keys3 = Object.keys(attrs); _i3 < _Object$keys3.length; _i3++) {\n    var name = _Object$keys3[_i3];\n    var value = attrs[name];\n\n    if (value != null) {\n      parts.push(\" \".concat(name, \"=\\\"\").concat(encodeAttr(value + ''), \"\\\"\"));\n    }\n  }\n\n  return parts.join('');\n}\n\nfunction canHaveDepth(blockType) {\n  switch (blockType) {\n    case BLOCK_TYPE.UNORDERED_LIST_ITEM:\n    case BLOCK_TYPE.ORDERED_LIST_ITEM:\n      return true;\n\n    default:\n      return false;\n  }\n}\n\nfunction encodeContent(text) {\n  return text.split('&').join('&amp;').split('<').join('&lt;').split('>').join('&gt;').split('\\xA0').join('&nbsp;').split('\\n').join(BREAK + '\\n');\n}\n\nfunction encodeAttr(text) {\n  return text.split('&').join('&amp;').split('<').join('&lt;').split('>').join('&gt;').split('\"').join('&quot;');\n}\n\nexport default function stateToHTML(content, options) {\n  return new MarkupGenerator(content, options).generate();\n}","map":{"version":3,"sources":["/Users/JeHongHwang/Desktop/leekang/node_modules/draft-js-export-html/esm/stateToHTML.js"],"names":["_DEFAULT_STYLE_MAP","_ENTITY_ATTR_MAP","_DATA_TO_ATTR","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","push","apply","filter","sym","getOwnPropertyDescriptor","enumerable","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","TypeError","_arr","_n","_d","_e","undefined","_i","Symbol","iterator","_s","next","done","value","err","Array","isArray","_classCallCheck","instance","Constructor","_defineProperties","props","descriptor","configurable","writable","_createClass","protoProps","staticProps","prototype","obj","combineOrderedStyles","normalizeAttributes","styleToCSS","getEntityRanges","BLOCK_TYPE","ENTITY_TYPE","INLINE_STYLE","BOLD","CODE","ITALIC","STRIKETHROUGH","UNDERLINE","INDENT","BREAK","DATA_ATTRIBUTE","DEFAULT_STYLE_MAP","element","DEFAULT_STYLE_ORDER","ENTITY_ATTR_MAP","LINK","url","href","rel","title","className","IMAGE","src","height","width","alt","DATA_TO_ATTR","entityType","entity","attrMap","hasOwnProperty","data","getData","attrs","_Object$keys","dataKey","dataValue","attrKey","test","_i2","_Object$keys2","getTags","blockType","defaultBlockTag","HEADER_ONE","HEADER_TWO","HEADER_THREE","HEADER_FOUR","HEADER_FIVE","HEADER_SIX","UNORDERED_LIST_ITEM","ORDERED_LIST_ITEM","BLOCKQUOTE","ATOMIC","getWrapperTag","MarkupGenerator","contentState","options","_combineOrderedStyles","inlineStyles","_combineOrderedStyles2","styleOrder","inlineStyleFn","generate","output","blocks","getBlocksAsArray","totalBlocks","currentBlock","indentLevel","wrapperTag","processBlock","closeWrapperTag","join","trim","_this$options","blockRenderers","block","getType","newWrapperTag","openWrapperTag","indent","customRenderer","customRendererOutput","writeStartTag","renderBlockContent","nextBlock","getNextBlock","canHaveDepth","getDepth","thisWrapperTag","processBlocksAtDepth","writeEndTag","depth","tags","attrString","blockStyleFn","_ref","attributes","_style","style","styleAttr","stringifyAttrs","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","tag","concat","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_iterator2","_step2","unshift","repeat","withCustomInlineStyles","content","styleSet","renderConfig","_renderConfig$element","_this","text","getText","preserveWhitespace","charMetaList","getCharacterList","entityPieces","map","_ref2","_ref3","entityKey","stylePieces","_ref4","_ref5","encodeContent","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_iterator3","_step3","_styleName","has","_this$inlineStyles$_s","_style2","getEntity","toUpperCase","entityStyle","entityStyleFn","_entityStyle","_style3","_attrString","_attrs","_attrString2","newText","parts","_i3","_Object$keys3","name","encodeAttr","split","stateToHTML"],"mappings":"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","sourcesContent":["var _DEFAULT_STYLE_MAP, _ENTITY_ATTR_MAP, _DATA_TO_ATTR;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { keys.push.apply(keys, Object.getOwnPropertySymbols(object)); } if (enumerableOnly) keys = keys.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport combineOrderedStyles from './helpers/combineOrderedStyles';\nimport normalizeAttributes from './helpers/normalizeAttributes';\nimport styleToCSS from './helpers/styleToCSS';\nimport { getEntityRanges, BLOCK_TYPE, ENTITY_TYPE, INLINE_STYLE } from 'draft-js-utils';\nvar BOLD = INLINE_STYLE.BOLD,\n    CODE = INLINE_STYLE.CODE,\n    ITALIC = INLINE_STYLE.ITALIC,\n    STRIKETHROUGH = INLINE_STYLE.STRIKETHROUGH,\n    UNDERLINE = INLINE_STYLE.UNDERLINE;\nvar INDENT = '  ';\nvar BREAK = '<br>';\nvar DATA_ATTRIBUTE = /^data-([a-z0-9-]+)$/;\nvar DEFAULT_STYLE_MAP = (_DEFAULT_STYLE_MAP = {}, _defineProperty(_DEFAULT_STYLE_MAP, BOLD, {\n  element: 'strong'\n}), _defineProperty(_DEFAULT_STYLE_MAP, CODE, {\n  element: 'code'\n}), _defineProperty(_DEFAULT_STYLE_MAP, ITALIC, {\n  element: 'em'\n}), _defineProperty(_DEFAULT_STYLE_MAP, STRIKETHROUGH, {\n  element: 'del'\n}), _defineProperty(_DEFAULT_STYLE_MAP, UNDERLINE, {\n  element: 'u'\n}), _DEFAULT_STYLE_MAP); // Order: inner-most style to outer-most.\n// Examle: <em><strong>foo</strong></em>\n\nvar DEFAULT_STYLE_ORDER = [BOLD, ITALIC, UNDERLINE, STRIKETHROUGH, CODE]; // Map entity data to element attributes.\n\nvar ENTITY_ATTR_MAP = (_ENTITY_ATTR_MAP = {}, _defineProperty(_ENTITY_ATTR_MAP, ENTITY_TYPE.LINK, {\n  url: 'href',\n  href: 'href',\n  rel: 'rel',\n  target: 'target',\n  title: 'title',\n  className: 'class'\n}), _defineProperty(_ENTITY_ATTR_MAP, ENTITY_TYPE.IMAGE, {\n  src: 'src',\n  height: 'height',\n  width: 'width',\n  alt: 'alt',\n  className: 'class'\n}), _ENTITY_ATTR_MAP); // Map entity data to element attributes.\n\nvar DATA_TO_ATTR = (_DATA_TO_ATTR = {}, _defineProperty(_DATA_TO_ATTR, ENTITY_TYPE.LINK, function (entityType, entity) {\n  var attrMap = ENTITY_ATTR_MAP.hasOwnProperty(entityType) ? ENTITY_ATTR_MAP[entityType] : {};\n  var data = entity.getData();\n  var attrs = {};\n\n  for (var _i = 0, _Object$keys = Object.keys(data); _i < _Object$keys.length; _i++) {\n    var dataKey = _Object$keys[_i];\n    var dataValue = data[dataKey];\n\n    if (attrMap.hasOwnProperty(dataKey)) {\n      var attrKey = attrMap[dataKey];\n      attrs[attrKey] = dataValue;\n    } else if (DATA_ATTRIBUTE.test(dataKey)) {\n      attrs[dataKey] = dataValue;\n    }\n  }\n\n  return attrs;\n}), _defineProperty(_DATA_TO_ATTR, ENTITY_TYPE.IMAGE, function (entityType, entity) {\n  var attrMap = ENTITY_ATTR_MAP.hasOwnProperty(entityType) ? ENTITY_ATTR_MAP[entityType] : {};\n  var data = entity.getData();\n  var attrs = {};\n\n  for (var _i2 = 0, _Object$keys2 = Object.keys(data); _i2 < _Object$keys2.length; _i2++) {\n    var dataKey = _Object$keys2[_i2];\n    var dataValue = data[dataKey];\n\n    if (attrMap.hasOwnProperty(dataKey)) {\n      var attrKey = attrMap[dataKey];\n      attrs[attrKey] = dataValue;\n    } else if (DATA_ATTRIBUTE.test(dataKey)) {\n      attrs[dataKey] = dataValue;\n    }\n  }\n\n  return attrs;\n}), _DATA_TO_ATTR); // The reason this returns an array is because a single block might get wrapped\n// in two tags.\n\nfunction getTags(blockType, defaultBlockTag) {\n  switch (blockType) {\n    case BLOCK_TYPE.HEADER_ONE:\n      return ['h1'];\n\n    case BLOCK_TYPE.HEADER_TWO:\n      return ['h2'];\n\n    case BLOCK_TYPE.HEADER_THREE:\n      return ['h3'];\n\n    case BLOCK_TYPE.HEADER_FOUR:\n      return ['h4'];\n\n    case BLOCK_TYPE.HEADER_FIVE:\n      return ['h5'];\n\n    case BLOCK_TYPE.HEADER_SIX:\n      return ['h6'];\n\n    case BLOCK_TYPE.UNORDERED_LIST_ITEM:\n    case BLOCK_TYPE.ORDERED_LIST_ITEM:\n      return ['li'];\n\n    case BLOCK_TYPE.BLOCKQUOTE:\n      return ['blockquote'];\n\n    case BLOCK_TYPE.CODE:\n      return ['pre', 'code'];\n\n    case BLOCK_TYPE.ATOMIC:\n      return ['figure'];\n\n    default:\n      if (defaultBlockTag === null) {\n        return [];\n      }\n\n      return [defaultBlockTag || 'p'];\n  }\n}\n\nfunction getWrapperTag(blockType) {\n  switch (blockType) {\n    case BLOCK_TYPE.UNORDERED_LIST_ITEM:\n      return 'ul';\n\n    case BLOCK_TYPE.ORDERED_LIST_ITEM:\n      return 'ol';\n\n    default:\n      return null;\n  }\n}\n\nvar MarkupGenerator =\n/*#__PURE__*/\nfunction () {\n  // These are related to state.\n  // These are related to user-defined options.\n  function MarkupGenerator(contentState, options) {\n    _classCallCheck(this, MarkupGenerator);\n\n    _defineProperty(this, \"blocks\", void 0);\n\n    _defineProperty(this, \"contentState\", void 0);\n\n    _defineProperty(this, \"currentBlock\", void 0);\n\n    _defineProperty(this, \"indentLevel\", void 0);\n\n    _defineProperty(this, \"output\", void 0);\n\n    _defineProperty(this, \"totalBlocks\", void 0);\n\n    _defineProperty(this, \"wrapperTag\", void 0);\n\n    _defineProperty(this, \"options\", void 0);\n\n    _defineProperty(this, \"inlineStyles\", void 0);\n\n    _defineProperty(this, \"inlineStyleFn\", void 0);\n\n    _defineProperty(this, \"styleOrder\", void 0);\n\n    if (options == null) {\n      options = {};\n    }\n\n    this.contentState = contentState;\n    this.options = options;\n\n    var _combineOrderedStyles = combineOrderedStyles(options.inlineStyles, [DEFAULT_STYLE_MAP, DEFAULT_STYLE_ORDER]),\n        _combineOrderedStyles2 = _slicedToArray(_combineOrderedStyles, 2),\n        inlineStyles = _combineOrderedStyles2[0],\n        styleOrder = _combineOrderedStyles2[1];\n\n    this.inlineStyles = inlineStyles;\n    this.inlineStyleFn = options.inlineStyleFn;\n    this.styleOrder = styleOrder;\n  }\n\n  _createClass(MarkupGenerator, [{\n    key: \"generate\",\n    value: function generate() {\n      this.output = [];\n      this.blocks = this.contentState.getBlocksAsArray();\n      this.totalBlocks = this.blocks.length;\n      this.currentBlock = 0;\n      this.indentLevel = 0;\n      this.wrapperTag = null;\n\n      while (this.currentBlock < this.totalBlocks) {\n        this.processBlock();\n      }\n\n      this.closeWrapperTag();\n      return this.output.join('').trim();\n    }\n  }, {\n    key: \"processBlock\",\n    value: function processBlock() {\n      var _this$options = this.options,\n          blockRenderers = _this$options.blockRenderers,\n          defaultBlockTag = _this$options.defaultBlockTag;\n      var block = this.blocks[this.currentBlock];\n      var blockType = block.getType();\n      var newWrapperTag = getWrapperTag(blockType);\n\n      if (this.wrapperTag !== newWrapperTag) {\n        if (this.wrapperTag) {\n          this.closeWrapperTag();\n        }\n\n        if (newWrapperTag) {\n          this.openWrapperTag(newWrapperTag);\n        }\n      }\n\n      this.indent(); // Allow blocks to be rendered using a custom renderer.\n\n      var customRenderer = blockRenderers != null && blockRenderers.hasOwnProperty(blockType) ? blockRenderers[blockType] : null;\n      var customRendererOutput = customRenderer ? customRenderer(block) : null; // Renderer can return null, which will cause processing to continue as normal.\n\n      if (customRendererOutput != null) {\n        this.output.push(customRendererOutput);\n        this.output.push('\\n');\n        this.currentBlock += 1;\n        return;\n      }\n\n      this.writeStartTag(block, defaultBlockTag);\n      this.output.push(this.renderBlockContent(block)); // Look ahead and see if we will nest list.\n\n      var nextBlock = this.getNextBlock();\n\n      if (canHaveDepth(blockType) && nextBlock && nextBlock.getDepth() === block.getDepth() + 1) {\n        this.output.push('\\n'); // This is a litle hacky: temporarily stash our current wrapperTag and\n        // render child list(s).\n\n        var thisWrapperTag = this.wrapperTag;\n        this.wrapperTag = null;\n        this.indentLevel += 1;\n        this.currentBlock += 1;\n        this.processBlocksAtDepth(nextBlock.getDepth());\n        this.wrapperTag = thisWrapperTag;\n        this.indentLevel -= 1;\n        this.indent();\n      } else {\n        this.currentBlock += 1;\n      }\n\n      this.writeEndTag(block, defaultBlockTag);\n    }\n  }, {\n    key: \"processBlocksAtDepth\",\n    value: function processBlocksAtDepth(depth) {\n      var block = this.blocks[this.currentBlock];\n\n      while (block && block.getDepth() === depth) {\n        this.processBlock();\n        block = this.blocks[this.currentBlock];\n      }\n\n      this.closeWrapperTag();\n    }\n  }, {\n    key: \"getNextBlock\",\n    value: function getNextBlock() {\n      return this.blocks[this.currentBlock + 1];\n    }\n  }, {\n    key: \"writeStartTag\",\n    value: function writeStartTag(block, defaultBlockTag) {\n      var tags = getTags(block.getType(), defaultBlockTag);\n      var attrString;\n\n      if (this.options.blockStyleFn) {\n        var _ref = this.options.blockStyleFn(block) || {},\n            attributes = _ref.attributes,\n            _style = _ref.style; // Normalize `className` -> `class`, etc.\n\n\n        attributes = normalizeAttributes(attributes);\n\n        if (_style != null) {\n          var styleAttr = styleToCSS(_style);\n          attributes = attributes == null ? {\n            style: styleAttr\n          } : _objectSpread({}, attributes, {\n            style: styleAttr\n          });\n        }\n\n        attrString = stringifyAttrs(attributes);\n      } else {\n        attrString = '';\n      }\n\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = tags[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var tag = _step.value;\n          this.output.push(\"<\".concat(tag).concat(attrString, \">\"));\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n            _iterator[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"writeEndTag\",\n    value: function writeEndTag(block, defaultBlockTag) {\n      var tags = getTags(block.getType(), defaultBlockTag);\n\n      if (tags.length === 1) {\n        this.output.push(\"</\".concat(tags[0], \">\\n\"));\n      } else {\n        var output = [];\n        var _iteratorNormalCompletion2 = true;\n        var _didIteratorError2 = false;\n        var _iteratorError2 = undefined;\n\n        try {\n          for (var _iterator2 = tags[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n            var tag = _step2.value;\n            output.unshift(\"</\".concat(tag, \">\"));\n          }\n        } catch (err) {\n          _didIteratorError2 = true;\n          _iteratorError2 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n              _iterator2[\"return\"]();\n            }\n          } finally {\n            if (_didIteratorError2) {\n              throw _iteratorError2;\n            }\n          }\n        }\n\n        this.output.push(output.join('') + '\\n');\n      }\n    }\n  }, {\n    key: \"openWrapperTag\",\n    value: function openWrapperTag(wrapperTag) {\n      this.wrapperTag = wrapperTag;\n      this.indent();\n      this.output.push(\"<\".concat(wrapperTag, \">\\n\"));\n      this.indentLevel += 1;\n    }\n  }, {\n    key: \"closeWrapperTag\",\n    value: function closeWrapperTag() {\n      var wrapperTag = this.wrapperTag;\n\n      if (wrapperTag) {\n        this.indentLevel -= 1;\n        this.indent();\n        this.output.push(\"</\".concat(wrapperTag, \">\\n\"));\n        this.wrapperTag = null;\n      }\n    }\n  }, {\n    key: \"indent\",\n    value: function indent() {\n      this.output.push(INDENT.repeat(this.indentLevel));\n    }\n  }, {\n    key: \"withCustomInlineStyles\",\n    value: function withCustomInlineStyles(content, styleSet) {\n      if (!this.inlineStyleFn) {\n        return content;\n      }\n\n      var renderConfig = this.inlineStyleFn(styleSet);\n\n      if (!renderConfig) {\n        return content;\n      }\n\n      var _renderConfig$element = renderConfig.element,\n          element = _renderConfig$element === void 0 ? 'span' : _renderConfig$element,\n          attributes = renderConfig.attributes,\n          style = renderConfig.style;\n      var attrString = stringifyAttrs(_objectSpread({}, attributes, {\n        style: style && styleToCSS(style)\n      }));\n      return \"<\".concat(element).concat(attrString, \">\").concat(content, \"</\").concat(element, \">\");\n    }\n  }, {\n    key: \"renderBlockContent\",\n    value: function renderBlockContent(block) {\n      var _this = this;\n\n      var blockType = block.getType();\n      var text = block.getText();\n\n      if (text === '') {\n        // Prevent element collapse if completely empty.\n        return BREAK;\n      }\n\n      text = this.preserveWhitespace(text);\n      var charMetaList = block.getCharacterList();\n      var entityPieces = getEntityRanges(text, charMetaList);\n      return entityPieces.map(function (_ref2) {\n        var _ref3 = _slicedToArray(_ref2, 2),\n            entityKey = _ref3[0],\n            stylePieces = _ref3[1];\n\n        var content = stylePieces.map(function (_ref4) {\n          var _ref5 = _slicedToArray(_ref4, 2),\n              text = _ref5[0],\n              styleSet = _ref5[1];\n\n          var content = encodeContent(text);\n          var _iteratorNormalCompletion3 = true;\n          var _didIteratorError3 = false;\n          var _iteratorError3 = undefined;\n\n          try {\n            for (var _iterator3 = _this.styleOrder[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n              var _styleName = _step3.value;\n\n              // If our block type is CODE then don't wrap inline code elements.\n              if (_styleName === CODE && blockType === BLOCK_TYPE.CODE) {\n                continue;\n              }\n\n              if (styleSet.has(_styleName)) {\n                var _this$inlineStyles$_s = _this.inlineStyles[_styleName],\n                    element = _this$inlineStyles$_s.element,\n                    attributes = _this$inlineStyles$_s.attributes,\n                    _style2 = _this$inlineStyles$_s.style;\n\n                if (element == null) {\n                  element = 'span';\n                } // Normalize `className` -> `class`, etc.\n\n\n                attributes = normalizeAttributes(attributes);\n\n                if (_style2 != null) {\n                  var styleAttr = styleToCSS(_style2);\n                  attributes = attributes == null ? {\n                    style: styleAttr\n                  } : _objectSpread({}, attributes, {\n                    style: styleAttr\n                  });\n                }\n\n                var attrString = stringifyAttrs(attributes);\n                content = \"<\".concat(element).concat(attrString, \">\").concat(content, \"</\").concat(element, \">\");\n              }\n            }\n          } catch (err) {\n            _didIteratorError3 = true;\n            _iteratorError3 = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion3 && _iterator3[\"return\"] != null) {\n                _iterator3[\"return\"]();\n              }\n            } finally {\n              if (_didIteratorError3) {\n                throw _iteratorError3;\n              }\n            }\n          }\n\n          return _this.withCustomInlineStyles(content, styleSet);\n        }).join('');\n        var entity = entityKey ? _this.contentState.getEntity(entityKey) : null; // Note: The `toUpperCase` below is for compatability with some libraries that use lower-case for image blocks.\n\n        var entityType = entity == null ? null : entity.getType().toUpperCase();\n        var entityStyle;\n\n        if (entity != null && _this.options.entityStyleFn && (entityStyle = _this.options.entityStyleFn(entity))) {\n          var _entityStyle = entityStyle,\n              element = _entityStyle.element,\n              attributes = _entityStyle.attributes,\n              _style3 = _entityStyle.style;\n\n          if (element == null) {\n            element = 'span';\n          } // Normalize `className` -> `class`, etc.\n\n\n          attributes = normalizeAttributes(attributes);\n\n          if (_style3 != null) {\n            var styleAttr = styleToCSS(_style3);\n            attributes = attributes == null ? {\n              style: styleAttr\n            } : _objectSpread({}, attributes, {\n              style: styleAttr\n            });\n          }\n\n          var attrString = stringifyAttrs(attributes);\n          return \"<\".concat(element).concat(attrString, \">\").concat(content, \"</\").concat(element, \">\");\n        } else if (entityType != null && entityType === ENTITY_TYPE.LINK) {\n          var attrs = DATA_TO_ATTR.hasOwnProperty(entityType) ? DATA_TO_ATTR[entityType](entityType, entity) : null;\n\n          var _attrString = stringifyAttrs(attrs);\n\n          return \"<a\".concat(_attrString, \">\").concat(content, \"</a>\");\n        } else if (entityType != null && entityType === ENTITY_TYPE.IMAGE) {\n          var _attrs = DATA_TO_ATTR.hasOwnProperty(entityType) ? DATA_TO_ATTR[entityType](entityType, entity) : null;\n\n          var _attrString2 = stringifyAttrs(_attrs);\n\n          return \"<img\".concat(_attrString2, \"/>\");\n        } else {\n          return content;\n        }\n      }).join('');\n    }\n  }, {\n    key: \"preserveWhitespace\",\n    value: function preserveWhitespace(text) {\n      var length = text.length; // Prevent leading/trailing/consecutive whitespace collapse.\n\n      var newText = new Array(length);\n\n      for (var i = 0; i < length; i++) {\n        if (text[i] === ' ' && (i === 0 || i === length - 1 || text[i - 1] === ' ')) {\n          newText[i] = '\\xA0';\n        } else {\n          newText[i] = text[i];\n        }\n      }\n\n      return newText.join('');\n    }\n  }]);\n\n  return MarkupGenerator;\n}();\n\nfunction stringifyAttrs(attrs) {\n  if (attrs == null) {\n    return '';\n  }\n\n  var parts = [];\n\n  for (var _i3 = 0, _Object$keys3 = Object.keys(attrs); _i3 < _Object$keys3.length; _i3++) {\n    var name = _Object$keys3[_i3];\n    var value = attrs[name];\n\n    if (value != null) {\n      parts.push(\" \".concat(name, \"=\\\"\").concat(encodeAttr(value + ''), \"\\\"\"));\n    }\n  }\n\n  return parts.join('');\n}\n\nfunction canHaveDepth(blockType) {\n  switch (blockType) {\n    case BLOCK_TYPE.UNORDERED_LIST_ITEM:\n    case BLOCK_TYPE.ORDERED_LIST_ITEM:\n      return true;\n\n    default:\n      return false;\n  }\n}\n\nfunction encodeContent(text) {\n  return text.split('&').join('&amp;').split('<').join('&lt;').split('>').join('&gt;').split('\\xA0').join('&nbsp;').split('\\n').join(BREAK + '\\n');\n}\n\nfunction encodeAttr(text) {\n  return text.split('&').join('&amp;').split('<').join('&lt;').split('>').join('&gt;').split('\"').join('&quot;');\n}\n\nexport default function stateToHTML(content, options) {\n  return new MarkupGenerator(content, options).generate();\n}"]},"metadata":{},"sourceType":"module"}