{"ast":null,"code":"var _jsxFileName = \"/Users/JeHongHwang/Desktop/leekang/src/components/community/PostCommentSummaryTest.js\";\nimport React, { Component, Fragment } from 'react';\nimport moment from 'moment';\nimport { connect } from 'react-redux';\nimport M from 'materialize-css';\nimport CommentRegister from './CommentRegister';\nimport { _delete_comment, _report_badUser } from '../../store/actions/postAction';\nimport { stat } from 'fs';\n\nclass PostCommentSummaryTest extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      chk_update: false,\n      index: this.props.index\n    };\n\n    this.updateSubmit = e => {\n      e.preventDefault();\n\n      if (this.state.chk_update) {\n        this.setState({\n          chk_update: false\n        });\n      } else {\n        this.setState({\n          chk_update: true\n        });\n      }\n    };\n\n    this.deleteSubmit = e => {\n      e.preventDefault();\n\n      this.props._delete_comment(this.props.post_id, this.props.comment);\n    };\n  }\n\n  componentDidMount() {\n    M.AutoInit();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.chk_update !== prevState.chk_update) M.AutoInit();\n  }\n\n  render() {\n    const _this$props = this.props,\n          comment = _this$props.comment,\n          post_id = _this$props.post_id,\n          index = _this$props.index,\n          auth = _this$props.auth;\n    const chk_update = this.state.chk_update;\n    return React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, chk_update ? React.createElement(CommentRegister, {\n      _check_update: this.updateSubmit,\n      postID: post_id,\n      update_key: index,\n      update_data: comment.comment,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }) : React.createElement(\"pre\", {\n      className: \"collection-item avatar postCommentSummary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: comment.userProfile,\n      className: \"circle comment-profile-img\",\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"comment_content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, comment.comment, \" \", React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, \"by \", comment.userID, \" \")), React.createElement(\"div\", {\n      className: \"comment_record\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, \"\\uC791\\uC131\\uC2DC\\uAC04: \", moment(comment.timestamp.toDate()).fromNow()), React.createElement(\"button\", {\n      className: \"dropdown-trigger waves-effect z-depth-0 transparent btn-floating right\",\n      \"data-target\": 'comment' + index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"material-icons black-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, \"more_vert\")), React.createElement(\"ul\", {\n      id: 'comment' + index,\n      className: \"dropdown-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, auth.isLoaded ? auth.uid === comment.uid ? React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn-flat\",\n      onClick: this.updateSubmit,\n      style: {\n        display: 'flex'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"material-icons\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, \"edit\"), React.createElement(\"span\", {\n      style: {\n        marginLeft: '1rem'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, \"\\uC218\\uC815\"))), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: this.deleteSubmit,\n      style: {\n        display: 'flex'\n      },\n      className: \"btn-flat\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"material-icons\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, \"delete\"), React.createElement(\"span\", {\n      style: {\n        marginLeft: '1rem'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, \"\\uC0AD\\uC81C\")))) : React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: this.report_badUser,\n      className: \"btn-flat\",\n      style: {\n        display: 'flex'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"material-icons\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, \"flag\"), React.createElement(\"span\", {\n      style: {\n        marginLeft: '1rem'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, \"\\uC2E0\\uACE0\")))) : null)));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    profile: state.firebase.profile,\n    auth: state.firebase.auth\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    _delete_comment: (post_id, commentData) => dispatch(_delete_comment(post_id, commentData)),\n    _report_badUser: () => dispatch(_report_badUser())\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PostCommentSummaryTest);","map":{"version":3,"sources":["/Users/JeHongHwang/Desktop/leekang/src/components/community/PostCommentSummaryTest.js"],"names":["React","Component","Fragment","moment","connect","M","CommentRegister","_delete_comment","_report_badUser","stat","PostCommentSummaryTest","state","chk_update","index","props","updateSubmit","e","preventDefault","setState","deleteSubmit","post_id","comment","componentDidMount","AutoInit","componentDidUpdate","prevProps","prevState","render","auth","userProfile","userID","timestamp","toDate","fromNow","isLoaded","uid","display","marginLeft","report_badUser","mapStateToProps","profile","firebase","mapDispatchToProps","dispatch","commentData"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react'\nimport moment from 'moment'\nimport {connect} from 'react-redux'\nimport M from 'materialize-css'\nimport CommentRegister from './CommentRegister'\nimport {_delete_comment, _report_badUser } from '../../store/actions/postAction'\nimport { stat } from 'fs';\n\nclass PostCommentSummaryTest extends Component {\n\tstate = { \n\t\tchk_update: false,\n\t\tindex: this.props.index,\n\t}\n\tcomponentDidMount() {\n\t\tM.AutoInit();\n\t}\n\tcomponentDidUpdate(prevProps, prevState){\n\t\tif(this.state.chk_update !== prevState.chk_update) M.AutoInit();\n\t}\n\tupdateSubmit = (e) => {\n\t\te.preventDefault();\n\t\tif(this.state.chk_update) {\n\t\t\tthis.setState({\n\t\t\t\tchk_update: false,\n\t\t\t})\n\t\t}\n\t\telse {\n\t\t\tthis.setState({\n\t\t\t\tchk_update: true,\n\t\t\t})\n\t\t}\n\t}\n\tdeleteSubmit = (e) => {\n\t\te.preventDefault();\n\t\tthis.props._delete_comment(this.props.post_id, this.props.comment);\n\t}\n\trender(){\n\t\tconst { comment, post_id, index, auth } = this.props\n\t\tconst { chk_update } = this.state;\n\t\treturn(\n\t\t\t<Fragment>\n\t\t\t{\t\n\t\t\t\t(chk_update)\n\t\t\t\t\t? <CommentRegister _check_update = {this.updateSubmit} postID = {post_id} update_key={index} update_data = { comment.comment} />\n\t\t\t\t\t: (\n\t\t\t\t\t\t<pre className=\"collection-item avatar postCommentSummary\">\n\t\t\t\t\t\t\t<img src={comment.userProfile} className=\"circle comment-profile-img\" alt=\"\"/>\n\t\t\t\t\t\t\t<div className=\"comment_content\">{ comment.comment} <span>by {comment.userID} </span></div>\n\t\t\t\t\t\t\t<div className=\"comment_record\">작성시간: {moment(comment.timestamp.toDate()).fromNow() }</div>\n\t\t\t\t\t\t\t<button className=\"dropdown-trigger waves-effect z-depth-0 transparent btn-floating right\" data-target={'comment' + index}><i className=\"material-icons black-text\">more_vert</i></button>\n\n\t\t\t\t\t\t\t<ul id={'comment' + index} className='dropdown-content'>\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t(auth.isLoaded)\n\t\t\t\t\t\t\t\t\t\t? (auth.uid === comment.uid)\n\t\t\t\t\t\t\t\t\t\t\t? (\n\t\t\t\t\t\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<li><button className=\"btn-flat\" onClick={this.updateSubmit} style={{display: 'flex'}}><i className='material-icons'>edit</i><span style={{marginLeft:'1rem'}}>수정</span></button></li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<li><button onClick={this.deleteSubmit} style={{display: 'flex'}} className='btn-flat'><i className='material-icons'>delete</i><span style={{marginLeft:'1rem'}}>삭제</span></button></li>\n\t\t\t\t\t\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t:\t(\n\t\t\t\t\t\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<li><button onClick={this.report_badUser} className=\"btn-flat\" style={{display: 'flex'}}><i className=\"material-icons\">flag</i><span style={{marginLeft:'1rem'}}>신고</span></button></li>\n\t\t\t\t\t\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</pre>\n\t\t\t\t\t)\n\t\t\t}\n\t\t\t</Fragment>\n\t\t)\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn{\n\t\tprofile: state.firebase.profile,\n\t\tauth: state.firebase.auth,\n\t}\n}\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn{\n\t\t_delete_comment: (post_id, commentData) => dispatch(_delete_comment(post_id, commentData)),\n\t\t_report_badUser: () => dispatch(_report_badUser())\n\t}\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PostCommentSummaryTest);"]},"metadata":{},"sourceType":"module"}