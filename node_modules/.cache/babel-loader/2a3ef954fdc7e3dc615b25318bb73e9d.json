{"ast":null,"code":"/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @preventMunge\n * @emails oncall+draft_js\n */\n'use strict';\n\nvar _assign = require(\"object-assign\");\n\nfunction _extends() {\n  _extends = _assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nvar DefaultDraftBlockRenderMap = require(\"./DefaultDraftBlockRenderMap\");\n\nvar DefaultDraftInlineStyle = require(\"./DefaultDraftInlineStyle\");\n\nvar DraftEditorCompositionHandler = require(\"./DraftEditorCompositionHandler\");\n\nvar DraftEditorContents = require(\"./DraftEditorContents.react\");\n\nvar DraftEditorDragHandler = require(\"./DraftEditorDragHandler\");\n\nvar DraftEditorEditHandler = require(\"./DraftEditorEditHandler\");\n\nvar DraftEditorPlaceholder = require(\"./DraftEditorPlaceholder.react\");\n\nvar DraftEffects = require(\"./DraftEffects\");\n\nvar EditorState = require(\"./EditorState\");\n\nvar React = require(\"react\");\n\nvar ReactDOM = require(\"react-dom\");\n\nvar Scroll = require(\"fbjs/lib/Scroll\");\n\nvar Style = require(\"fbjs/lib/Style\");\n\nvar UserAgent = require(\"fbjs/lib/UserAgent\");\n\nvar cx = require(\"fbjs/lib/cx\");\n\nvar generateRandomKey = require(\"./generateRandomKey\");\n\nvar getDefaultKeyBinding = require(\"./getDefaultKeyBinding\");\n\nvar getScrollPosition = require(\"fbjs/lib/getScrollPosition\");\n\nvar gkx = require(\"./gkx\");\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar isHTMLElement = require(\"./isHTMLElement\");\n\nvar nullthrows = require(\"fbjs/lib/nullthrows\");\n\nvar isIE = UserAgent.isBrowser('IE'); // IE does not support the `input` event on contentEditable, so we can't\n// observe spellcheck behavior.\n\nvar allowSpellCheck = !isIE; // Define a set of handler objects to correspond to each possible `mode`\n// of editor behavior.\n\nvar handlerMap = {\n  edit: DraftEditorEditHandler,\n  composite: DraftEditorCompositionHandler,\n  drag: DraftEditorDragHandler,\n  cut: null,\n  render: null\n};\nvar didInitODS = false;\n\nvar UpdateDraftEditorFlags =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(UpdateDraftEditorFlags, _React$Component);\n\n  function UpdateDraftEditorFlags() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = UpdateDraftEditorFlags.prototype;\n\n  _proto.render = function render() {\n    return null;\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    this._update();\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    this._update();\n  };\n\n  _proto._update = function _update() {\n    var editor = this.props.editor;\n    /**\n     * Sometimes a render triggers a 'focus' or other event, and that will\n     * schedule a second render pass.\n     * In order to make sure the second render pass gets the latest editor\n     * state, we update it here.\n     * Example:\n     * render #1\n     * +\n     * |\n     * | cWU -> Nothing ... latestEditorState = STALE_STATE :(\n     * |\n     * | render -> this.props.editorState = FRESH_STATE\n     * | +         *and* set latestEditorState = FRESH_STATE\n     *   |\n     * | |\n     * | +--> triggers 'focus' event, calling 'handleFocus' with latestEditorState\n     * |                                                +\n     * |                                                |\n     * +>cdU -> latestEditorState = FRESH_STATE         | the 'handleFocus' call schedules render #2\n     *                                                  | with latestEditorState, which is FRESH_STATE\n     *                                                  |\n     * render #2 <--------------------------------------+\n     * +\n     * |\n     * | cwU -> nothing updates\n     * |\n     * | render -> this.props.editorState = FRESH_STATE which was passed in above\n     * |\n     * +>cdU fires and resets latestEditorState = FRESH_STATE\n     * ---\n     * Note that if we don't set latestEditorState in 'render' in the above\n     * diagram, then STALE_STATE gets passed to render #2.\n     */\n\n    editor._latestEditorState = this.props.editorState;\n    /**\n     * The reason we set this 'blockSelectEvents' flag is that  IE will fire a\n     * 'selectionChange' event when we programmatically change the selection,\n     * meaning it would trigger a new select event while we are in the middle\n     * of updating.\n     * We found that the 'selection.addRange' was what triggered the stray\n     * selectionchange event in IE.\n     * To be clear - we have not been able to reproduce specific bugs related\n     * to this stray selection event, but have recorded logs that some\n     * conditions do cause it to get bumped into during editOnSelect.\n     */\n\n    editor._blockSelectEvents = true;\n  };\n\n  return UpdateDraftEditorFlags;\n}(React.Component);\n/**\n * `DraftEditor` is the root editor component. It composes a `contentEditable`\n * div, and provides a wide variety of useful function props for managing the\n * state of the editor. See `DraftEditorProps` for details.\n */\n\n\nvar DraftEditor =\n/*#__PURE__*/\nfunction (_React$Component2) {\n  _inheritsLoose(DraftEditor, _React$Component2);\n  /**\n   * Define proxies that can route events to the current handler.\n   */\n\n\n  function DraftEditor(props) {\n    var _this;\n\n    _this = _React$Component2.call(this, props) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"_blockSelectEvents\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_clipboard\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_handler\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_dragCount\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_internalDrag\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_editorKey\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_placeholderAccessibilityID\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_latestEditorState\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_latestCommittedEditorState\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_pendingStateFromBeforeInput\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onBeforeInput\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onBlur\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onCharacterData\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onCompositionEnd\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onCompositionStart\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onCopy\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onCut\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onDragEnd\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onDragOver\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onDragStart\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onDrop\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onInput\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onFocus\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onKeyDown\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onKeyPress\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onKeyUp\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onMouseDown\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onMouseUp\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onPaste\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onSelect\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"editor\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"editorContainer\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"focus\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"blur\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"setMode\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"exitCurrentMode\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"restoreEditorDOM\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"setClipboard\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"getClipboard\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"getEditorKey\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"update\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragEnter\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragLeave\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"focus\", function (scrollPosition) {\n      var editorState = _this.props.editorState;\n      var alreadyHasFocus = editorState.getSelection().getHasFocus();\n      var editorNode = _this.editor;\n\n      if (!editorNode) {\n        // once in a while people call 'focus' in a setTimeout, and the node has\n        // been deleted, so it can be null in that case.\n        return;\n      }\n\n      var scrollParent = Style.getScrollParent(editorNode);\n\n      var _ref = scrollPosition || getScrollPosition(scrollParent),\n          x = _ref.x,\n          y = _ref.y;\n\n      !isHTMLElement(editorNode) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'editorNode is not an HTMLElement') : invariant(false) : void 0;\n      editorNode.focus(); // Restore scroll position\n\n      if (scrollParent === window) {\n        window.scrollTo(x, y);\n      } else {\n        Scroll.setTop(scrollParent, y);\n      } // On Chrome and Safari, calling focus on contenteditable focuses the\n      // cursor at the first character. This is something you don't expect when\n      // you're clicking on an input element but not directly on a character.\n      // Put the cursor back where it was before the blur.\n\n\n      if (!alreadyHasFocus) {\n        _this.update(EditorState.forceSelection(editorState, editorState.getSelection()));\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"blur\", function () {\n      var editorNode = _this.editor;\n\n      if (!editorNode) {\n        return;\n      }\n\n      !isHTMLElement(editorNode) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'editorNode is not an HTMLElement') : invariant(false) : void 0;\n      editorNode.blur();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setMode\", function (mode) {\n      var _this$props = _this.props,\n          onPaste = _this$props.onPaste,\n          onCut = _this$props.onCut,\n          onCopy = _this$props.onCopy;\n\n      var editHandler = _objectSpread({}, handlerMap.edit);\n\n      if (onPaste) {\n        /* $FlowFixMe(>=0.111.0) This comment suppresses an error found when Flow\n         * v0.111.0 was deployed. To see the error, delete this comment and run\n         * Flow. */\n        editHandler.onPaste = onPaste;\n      }\n\n      if (onCut) {\n        editHandler.onCut = onCut;\n      }\n\n      if (onCopy) {\n        editHandler.onCopy = onCopy;\n      }\n\n      var handler = _objectSpread({}, handlerMap, {\n        edit: editHandler\n      });\n\n      _this._handler = handler[mode];\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"exitCurrentMode\", function () {\n      _this.setMode('edit');\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"restoreEditorDOM\", function (scrollPosition) {\n      _this.setState({\n        contentsKey: _this.state.contentsKey + 1\n      }, function () {\n        _this.focus(scrollPosition);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setClipboard\", function (clipboard) {\n      _this._clipboard = clipboard;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getClipboard\", function () {\n      return _this._clipboard;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"update\", function (editorState) {\n      _this._latestEditorState = editorState;\n\n      _this.props.onChange(editorState);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragEnter\", function () {\n      _this._dragCount++;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragLeave\", function () {\n      _this._dragCount--;\n\n      if (_this._dragCount === 0) {\n        _this.exitCurrentMode();\n      }\n    });\n\n    _this._blockSelectEvents = false;\n    _this._clipboard = null;\n    _this._handler = null;\n    _this._dragCount = 0;\n    _this._editorKey = props.editorKey || generateRandomKey();\n    _this._placeholderAccessibilityID = 'placeholder-' + _this._editorKey;\n    _this._latestEditorState = props.editorState;\n    _this._latestCommittedEditorState = props.editorState;\n    _this._onBeforeInput = _this._buildHandler('onBeforeInput');\n    _this._onBlur = _this._buildHandler('onBlur');\n    _this._onCharacterData = _this._buildHandler('onCharacterData');\n    _this._onCompositionEnd = _this._buildHandler('onCompositionEnd');\n    _this._onCompositionStart = _this._buildHandler('onCompositionStart');\n    _this._onCopy = _this._buildHandler('onCopy');\n    _this._onCut = _this._buildHandler('onCut');\n    _this._onDragEnd = _this._buildHandler('onDragEnd');\n    _this._onDragOver = _this._buildHandler('onDragOver');\n    _this._onDragStart = _this._buildHandler('onDragStart');\n    _this._onDrop = _this._buildHandler('onDrop');\n    _this._onInput = _this._buildHandler('onInput');\n    _this._onFocus = _this._buildHandler('onFocus');\n    _this._onKeyDown = _this._buildHandler('onKeyDown');\n    _this._onKeyPress = _this._buildHandler('onKeyPress');\n    _this._onKeyUp = _this._buildHandler('onKeyUp');\n    _this._onMouseDown = _this._buildHandler('onMouseDown');\n    _this._onMouseUp = _this._buildHandler('onMouseUp');\n    _this._onPaste = _this._buildHandler('onPaste');\n    _this._onSelect = _this._buildHandler('onSelect');\n\n    _this.getEditorKey = function () {\n      return _this._editorKey;\n    };\n\n    if (process.env.NODE_ENV !== \"production\") {\n      ['onDownArrow', 'onEscape', 'onLeftArrow', 'onRightArrow', 'onTab', 'onUpArrow'].forEach(function (propName) {\n        if (props.hasOwnProperty(propName)) {\n          // eslint-disable-next-line no-console\n          console.warn(\"Supplying an `\".concat(propName, \"` prop to `DraftEditor` has \") + 'been deprecated. If your handler needs access to the keyboard ' + 'event, supply a custom `keyBindingFn` prop that falls back to ' + 'the default one (eg. https://is.gd/RG31RJ).');\n        }\n      });\n    } // See `restoreEditorDOM()`.\n\n\n    _this.state = {\n      contentsKey: 0\n    };\n    return _this;\n  }\n  /**\n   * Build a method that will pass the event to the specified handler method.\n   * This allows us to look up the correct handler function for the current\n   * editor mode, if any has been specified.\n   */\n\n\n  var _proto2 = DraftEditor.prototype;\n\n  _proto2._buildHandler = function _buildHandler(eventName) {\n    var _this2 = this;\n\n    var flushControlled =\n    /* $FlowFixMe(>=0.79.1 site=www) This comment suppresses an error found\n     * when Flow v0.79 was deployed. To see the error delete this comment and\n     * run Flow. */\n    ReactDOM.unstable_flushControlled; // Wrap event handlers in `flushControlled`. In sync mode, this is\n    // effectively a no-op. In async mode, this ensures all updates scheduled\n    // inside the handler are flushed before React yields to the browser.\n\n    return function (e) {\n      if (!_this2.props.readOnly) {\n        var method = _this2._handler && _this2._handler[eventName];\n\n        if (method) {\n          if (flushControlled) {\n            flushControlled(function () {\n              return method(_this2, e);\n            });\n          } else {\n            method(_this2, e);\n          }\n        }\n      }\n    };\n  };\n\n  _proto2._showPlaceholder = function _showPlaceholder() {\n    return !!this.props.placeholder && !this.props.editorState.isInCompositionMode() && !this.props.editorState.getCurrentContent().hasText();\n  };\n\n  _proto2._renderPlaceholder = function _renderPlaceholder() {\n    if (this._showPlaceholder()) {\n      var placeHolderProps = {\n        text: nullthrows(this.props.placeholder),\n        editorState: this.props.editorState,\n        textAlignment: this.props.textAlignment,\n        accessibilityID: this._placeholderAccessibilityID\n      };\n      /* $FlowFixMe(>=0.112.0 site=mobile) This comment suppresses an error\n       * found when Flow v0.112 was deployed. To see the error delete this\n       * comment and run Flow. */\n\n      /* $FlowFixMe(>=0.112.0 site=www) This comment suppresses an error found\n       * when Flow v0.112 was deployed. To see the error delete this comment\n       * and run Flow. */\n\n      /* $FlowFixMe(>=0.112.0 site=www,mobile) This comment suppresses an error\n       * found when Flow v0.112 was deployed. To see the error delete this\n       * comment and run Flow. */\n\n      return React.createElement(DraftEditorPlaceholder, placeHolderProps);\n    }\n\n    return null;\n  };\n\n  _proto2.render = function render() {\n    var _this3 = this;\n\n    var _this$props2 = this.props,\n        blockRenderMap = _this$props2.blockRenderMap,\n        blockRendererFn = _this$props2.blockRendererFn,\n        blockStyleFn = _this$props2.blockStyleFn,\n        customStyleFn = _this$props2.customStyleFn,\n        customStyleMap = _this$props2.customStyleMap,\n        editorState = _this$props2.editorState,\n        readOnly = _this$props2.readOnly,\n        textAlignment = _this$props2.textAlignment,\n        textDirectionality = _this$props2.textDirectionality;\n    var rootClass = cx({\n      'DraftEditor/root': true,\n      'DraftEditor/alignLeft': textAlignment === 'left',\n      'DraftEditor/alignRight': textAlignment === 'right',\n      'DraftEditor/alignCenter': textAlignment === 'center'\n    });\n    var contentStyle = {\n      outline: 'none',\n      // fix parent-draggable Safari bug. #1326\n      userSelect: 'text',\n      WebkitUserSelect: 'text',\n      whiteSpace: 'pre-wrap',\n      wordWrap: 'break-word'\n    }; // The aria-expanded and aria-haspopup properties should only be rendered\n    // for a combobox.\n\n    /* $FlowFixMe(>=0.68.0 site=www,mobile) This comment suppresses an error\n     * found when Flow v0.68 was deployed. To see the error delete this comment\n     * and run Flow. */\n\n    var ariaRole = this.props.role || 'textbox';\n    var ariaExpanded = ariaRole === 'combobox' ? !!this.props.ariaExpanded : null;\n    var editorContentsProps = {\n      blockRenderMap: blockRenderMap,\n      blockRendererFn: blockRendererFn,\n      blockStyleFn: blockStyleFn,\n      customStyleMap: _objectSpread({}, DefaultDraftInlineStyle, customStyleMap),\n      customStyleFn: customStyleFn,\n      editorKey: this._editorKey,\n      editorState: editorState,\n      textDirectionality: textDirectionality\n    };\n    return React.createElement(\"div\", {\n      className: rootClass\n    }, this._renderPlaceholder(), React.createElement(\"div\", {\n      className: cx('DraftEditor/editorContainer'),\n      ref: function ref(_ref3) {\n        return _this3.editorContainer = _ref3;\n      }\n    }, React.createElement(\"div\", {\n      \"aria-activedescendant\": readOnly ? null : this.props.ariaActiveDescendantID,\n      \"aria-autocomplete\": readOnly ? null : this.props.ariaAutoComplete,\n      \"aria-controls\": readOnly ? null : this.props.ariaControls,\n      \"aria-describedby\": this.props.ariaDescribedBy || this._placeholderAccessibilityID,\n      \"aria-expanded\": readOnly ? null : ariaExpanded,\n      \"aria-label\": this.props.ariaLabel,\n      \"aria-labelledby\": this.props.ariaLabelledBy,\n      \"aria-multiline\": this.props.ariaMultiline,\n      \"aria-owns\": readOnly ? null : this.props.ariaOwneeID,\n      autoCapitalize: this.props.autoCapitalize,\n      autoComplete: this.props.autoComplete,\n      autoCorrect: this.props.autoCorrect,\n      className: cx({\n        // Chrome's built-in translation feature mutates the DOM in ways\n        // that Draft doesn't expect (ex: adding <font> tags inside\n        // DraftEditorLeaf spans) and causes problems. We add notranslate\n        // here which makes its autotranslation skip over this subtree.\n        notranslate: !readOnly,\n        'public/DraftEditor/content': true\n      }),\n      contentEditable: !readOnly,\n      \"data-testid\": this.props.webDriverTestID,\n      onBeforeInput: this._onBeforeInput,\n      onBlur: this._onBlur,\n      onCompositionEnd: this._onCompositionEnd,\n      onCompositionStart: this._onCompositionStart,\n      onCopy: this._onCopy,\n      onCut: this._onCut,\n      onDragEnd: this._onDragEnd,\n      onDragEnter: this.onDragEnter,\n      onDragLeave: this.onDragLeave,\n      onDragOver: this._onDragOver,\n      onDragStart: this._onDragStart,\n      onDrop: this._onDrop,\n      onFocus: this._onFocus,\n      onInput: this._onInput,\n      onKeyDown: this._onKeyDown,\n      onKeyPress: this._onKeyPress,\n      onKeyUp: this._onKeyUp,\n      onMouseUp: this._onMouseUp,\n      onPaste: this._onPaste,\n      onSelect: this._onSelect,\n      ref: function ref(_ref2) {\n        return _this3.editor = _ref2;\n      },\n      role: readOnly ? null : ariaRole,\n      spellCheck: allowSpellCheck && this.props.spellCheck,\n      style: contentStyle,\n      suppressContentEditableWarning: true,\n      tabIndex: this.props.tabIndex\n    }, React.createElement(UpdateDraftEditorFlags, {\n      editor: this,\n      editorState: editorState\n    }), React.createElement(DraftEditorContents, _extends({}, editorContentsProps, {\n      key: 'contents' + this.state.contentsKey\n    })))));\n  };\n\n  _proto2.componentDidMount = function componentDidMount() {\n    this._blockSelectEvents = false;\n\n    if (!didInitODS && gkx('draft_ods_enabled')) {\n      didInitODS = true;\n      DraftEffects.initODS();\n    }\n\n    this.setMode('edit');\n    /**\n     * IE has a hardcoded \"feature\" that attempts to convert link text into\n     * anchors in contentEditable DOM. This breaks the editor's expectations of\n     * the DOM, and control is lost. Disable it to make IE behave.\n     * See: http://blogs.msdn.com/b/ieinternals/archive/2010/09/15/\n     * ie9-beta-minor-change-list.aspx\n     */\n\n    if (isIE) {\n      // editor can be null after mounting\n      // https://stackoverflow.com/questions/44074747/componentdidmount-called-before-ref-callback\n      if (!this.editor) {\n        global.execCommand('AutoUrlDetect', false, false);\n      } else {\n        this.editor.ownerDocument.execCommand('AutoUrlDetect', false, false);\n      }\n    }\n  };\n\n  _proto2.componentDidUpdate = function componentDidUpdate() {\n    this._blockSelectEvents = false;\n    this._latestEditorState = this.props.editorState;\n    this._latestCommittedEditorState = this.props.editorState;\n  }\n  /**\n   * Used via `this.focus()`.\n   *\n   * Force focus back onto the editor node.\n   *\n   * We attempt to preserve scroll position when focusing. You can also pass\n   * a specified scroll position (for cases like `cut` behavior where it should\n   * be restored to a known position).\n   */\n  ;\n\n  return DraftEditor;\n}(React.Component);\n\n_defineProperty(DraftEditor, \"defaultProps\", {\n  blockRenderMap: DefaultDraftBlockRenderMap,\n  blockRendererFn: function blockRendererFn() {\n    return null;\n  },\n  blockStyleFn: function blockStyleFn() {\n    return '';\n  },\n  keyBindingFn: getDefaultKeyBinding,\n  readOnly: false,\n  spellCheck: false,\n  stripPastedStyles: false\n});\n\nmodule.exports = DraftEditor;","map":{"version":3,"sources":["/Users/JeHongHwang/Desktop/leekang/node_modules/draft-js/lib/DraftEditor.react.js"],"names":["_assign","require","_extends","target","i","arguments","length","source","key","Object","prototype","hasOwnProperty","call","apply","_objectSpread","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","enumerable","forEach","_defineProperty","_assertThisInitialized","self","ReferenceError","obj","value","defineProperty","configurable","writable","_inheritsLoose","subClass","superClass","create","constructor","__proto__","DefaultDraftBlockRenderMap","DefaultDraftInlineStyle","DraftEditorCompositionHandler","DraftEditorContents","DraftEditorDragHandler","DraftEditorEditHandler","DraftEditorPlaceholder","DraftEffects","EditorState","React","ReactDOM","Scroll","Style","UserAgent","cx","generateRandomKey","getDefaultKeyBinding","getScrollPosition","gkx","invariant","isHTMLElement","nullthrows","isIE","isBrowser","allowSpellCheck","handlerMap","edit","composite","drag","cut","render","didInitODS","UpdateDraftEditorFlags","_React$Component","_proto","componentDidMount","_update","componentDidUpdate","editor","props","_latestEditorState","editorState","_blockSelectEvents","Component","DraftEditor","_React$Component2","_this","scrollPosition","alreadyHasFocus","getSelection","getHasFocus","editorNode","scrollParent","getScrollParent","_ref","x","y","process","env","NODE_ENV","focus","window","scrollTo","setTop","update","forceSelection","blur","mode","_this$props","onPaste","onCut","onCopy","editHandler","handler","_handler","setMode","setState","contentsKey","state","clipboard","_clipboard","onChange","_dragCount","exitCurrentMode","_editorKey","editorKey","_placeholderAccessibilityID","_latestCommittedEditorState","_onBeforeInput","_buildHandler","_onBlur","_onCharacterData","_onCompositionEnd","_onCompositionStart","_onCopy","_onCut","_onDragEnd","_onDragOver","_onDragStart","_onDrop","_onInput","_onFocus","_onKeyDown","_onKeyPress","_onKeyUp","_onMouseDown","_onMouseUp","_onPaste","_onSelect","getEditorKey","propName","console","warn","_proto2","eventName","_this2","flushControlled","unstable_flushControlled","e","readOnly","method","_showPlaceholder","placeholder","isInCompositionMode","getCurrentContent","hasText","_renderPlaceholder","placeHolderProps","text","textAlignment","accessibilityID","createElement","_this3","_this$props2","blockRenderMap","blockRendererFn","blockStyleFn","customStyleFn","customStyleMap","textDirectionality","rootClass","contentStyle","outline","userSelect","WebkitUserSelect","whiteSpace","wordWrap","ariaRole","role","ariaExpanded","editorContentsProps","className","ref","_ref3","editorContainer","ariaActiveDescendantID","ariaAutoComplete","ariaControls","ariaDescribedBy","ariaLabel","ariaLabelledBy","ariaMultiline","ariaOwneeID","autoCapitalize","autoComplete","autoCorrect","notranslate","contentEditable","webDriverTestID","onBeforeInput","onBlur","onCompositionEnd","onCompositionStart","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDragStart","onDrop","onFocus","onInput","onKeyDown","onKeyPress","onKeyUp","onMouseUp","onSelect","_ref2","spellCheck","style","suppressContentEditableWarning","tabIndex","initODS","global","execCommand","ownerDocument","keyBindingFn","stripPastedStyles","module","exports"],"mappings":"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","sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @preventMunge\n * @emails oncall+draft_js\n */\n'use strict';\n\nvar _assign = require(\"object-assign\");\n\nfunction _extends() { _extends = _assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nvar DefaultDraftBlockRenderMap = require(\"./DefaultDraftBlockRenderMap\");\n\nvar DefaultDraftInlineStyle = require(\"./DefaultDraftInlineStyle\");\n\nvar DraftEditorCompositionHandler = require(\"./DraftEditorCompositionHandler\");\n\nvar DraftEditorContents = require(\"./DraftEditorContents.react\");\n\nvar DraftEditorDragHandler = require(\"./DraftEditorDragHandler\");\n\nvar DraftEditorEditHandler = require(\"./DraftEditorEditHandler\");\n\nvar DraftEditorPlaceholder = require(\"./DraftEditorPlaceholder.react\");\n\nvar DraftEffects = require(\"./DraftEffects\");\n\nvar EditorState = require(\"./EditorState\");\n\nvar React = require(\"react\");\n\nvar ReactDOM = require(\"react-dom\");\n\nvar Scroll = require(\"fbjs/lib/Scroll\");\n\nvar Style = require(\"fbjs/lib/Style\");\n\nvar UserAgent = require(\"fbjs/lib/UserAgent\");\n\nvar cx = require(\"fbjs/lib/cx\");\n\nvar generateRandomKey = require(\"./generateRandomKey\");\n\nvar getDefaultKeyBinding = require(\"./getDefaultKeyBinding\");\n\nvar getScrollPosition = require(\"fbjs/lib/getScrollPosition\");\n\nvar gkx = require(\"./gkx\");\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar isHTMLElement = require(\"./isHTMLElement\");\n\nvar nullthrows = require(\"fbjs/lib/nullthrows\");\n\nvar isIE = UserAgent.isBrowser('IE'); // IE does not support the `input` event on contentEditable, so we can't\n// observe spellcheck behavior.\n\nvar allowSpellCheck = !isIE; // Define a set of handler objects to correspond to each possible `mode`\n// of editor behavior.\n\nvar handlerMap = {\n  edit: DraftEditorEditHandler,\n  composite: DraftEditorCompositionHandler,\n  drag: DraftEditorDragHandler,\n  cut: null,\n  render: null\n};\nvar didInitODS = false;\n\nvar UpdateDraftEditorFlags =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(UpdateDraftEditorFlags, _React$Component);\n\n  function UpdateDraftEditorFlags() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = UpdateDraftEditorFlags.prototype;\n\n  _proto.render = function render() {\n    return null;\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    this._update();\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    this._update();\n  };\n\n  _proto._update = function _update() {\n    var editor = this.props.editor;\n    /**\n     * Sometimes a render triggers a 'focus' or other event, and that will\n     * schedule a second render pass.\n     * In order to make sure the second render pass gets the latest editor\n     * state, we update it here.\n     * Example:\n     * render #1\n     * +\n     * |\n     * | cWU -> Nothing ... latestEditorState = STALE_STATE :(\n     * |\n     * | render -> this.props.editorState = FRESH_STATE\n     * | +         *and* set latestEditorState = FRESH_STATE\n     *   |\n     * | |\n     * | +--> triggers 'focus' event, calling 'handleFocus' with latestEditorState\n     * |                                                +\n     * |                                                |\n     * +>cdU -> latestEditorState = FRESH_STATE         | the 'handleFocus' call schedules render #2\n     *                                                  | with latestEditorState, which is FRESH_STATE\n     *                                                  |\n     * render #2 <--------------------------------------+\n     * +\n     * |\n     * | cwU -> nothing updates\n     * |\n     * | render -> this.props.editorState = FRESH_STATE which was passed in above\n     * |\n     * +>cdU fires and resets latestEditorState = FRESH_STATE\n     * ---\n     * Note that if we don't set latestEditorState in 'render' in the above\n     * diagram, then STALE_STATE gets passed to render #2.\n     */\n\n    editor._latestEditorState = this.props.editorState;\n    /**\n     * The reason we set this 'blockSelectEvents' flag is that  IE will fire a\n     * 'selectionChange' event when we programmatically change the selection,\n     * meaning it would trigger a new select event while we are in the middle\n     * of updating.\n     * We found that the 'selection.addRange' was what triggered the stray\n     * selectionchange event in IE.\n     * To be clear - we have not been able to reproduce specific bugs related\n     * to this stray selection event, but have recorded logs that some\n     * conditions do cause it to get bumped into during editOnSelect.\n     */\n\n    editor._blockSelectEvents = true;\n  };\n\n  return UpdateDraftEditorFlags;\n}(React.Component);\n/**\n * `DraftEditor` is the root editor component. It composes a `contentEditable`\n * div, and provides a wide variety of useful function props for managing the\n * state of the editor. See `DraftEditorProps` for details.\n */\n\n\nvar DraftEditor =\n/*#__PURE__*/\nfunction (_React$Component2) {\n  _inheritsLoose(DraftEditor, _React$Component2);\n\n  /**\n   * Define proxies that can route events to the current handler.\n   */\n  function DraftEditor(props) {\n    var _this;\n\n    _this = _React$Component2.call(this, props) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"_blockSelectEvents\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_clipboard\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_handler\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_dragCount\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_internalDrag\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_editorKey\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_placeholderAccessibilityID\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_latestEditorState\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_latestCommittedEditorState\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_pendingStateFromBeforeInput\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onBeforeInput\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onBlur\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onCharacterData\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onCompositionEnd\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onCompositionStart\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onCopy\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onCut\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onDragEnd\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onDragOver\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onDragStart\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onDrop\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onInput\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onFocus\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onKeyDown\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onKeyPress\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onKeyUp\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onMouseDown\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onMouseUp\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onPaste\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onSelect\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"editor\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"editorContainer\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"focus\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"blur\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"setMode\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"exitCurrentMode\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"restoreEditorDOM\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"setClipboard\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"getClipboard\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"getEditorKey\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"update\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragEnter\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragLeave\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"focus\", function (scrollPosition) {\n      var editorState = _this.props.editorState;\n      var alreadyHasFocus = editorState.getSelection().getHasFocus();\n      var editorNode = _this.editor;\n\n      if (!editorNode) {\n        // once in a while people call 'focus' in a setTimeout, and the node has\n        // been deleted, so it can be null in that case.\n        return;\n      }\n\n      var scrollParent = Style.getScrollParent(editorNode);\n\n      var _ref = scrollPosition || getScrollPosition(scrollParent),\n          x = _ref.x,\n          y = _ref.y;\n\n      !isHTMLElement(editorNode) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'editorNode is not an HTMLElement') : invariant(false) : void 0;\n      editorNode.focus(); // Restore scroll position\n\n      if (scrollParent === window) {\n        window.scrollTo(x, y);\n      } else {\n        Scroll.setTop(scrollParent, y);\n      } // On Chrome and Safari, calling focus on contenteditable focuses the\n      // cursor at the first character. This is something you don't expect when\n      // you're clicking on an input element but not directly on a character.\n      // Put the cursor back where it was before the blur.\n\n\n      if (!alreadyHasFocus) {\n        _this.update(EditorState.forceSelection(editorState, editorState.getSelection()));\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"blur\", function () {\n      var editorNode = _this.editor;\n\n      if (!editorNode) {\n        return;\n      }\n\n      !isHTMLElement(editorNode) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'editorNode is not an HTMLElement') : invariant(false) : void 0;\n      editorNode.blur();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setMode\", function (mode) {\n      var _this$props = _this.props,\n          onPaste = _this$props.onPaste,\n          onCut = _this$props.onCut,\n          onCopy = _this$props.onCopy;\n\n      var editHandler = _objectSpread({}, handlerMap.edit);\n\n      if (onPaste) {\n        /* $FlowFixMe(>=0.111.0) This comment suppresses an error found when Flow\n         * v0.111.0 was deployed. To see the error, delete this comment and run\n         * Flow. */\n        editHandler.onPaste = onPaste;\n      }\n\n      if (onCut) {\n        editHandler.onCut = onCut;\n      }\n\n      if (onCopy) {\n        editHandler.onCopy = onCopy;\n      }\n\n      var handler = _objectSpread({}, handlerMap, {\n        edit: editHandler\n      });\n\n      _this._handler = handler[mode];\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"exitCurrentMode\", function () {\n      _this.setMode('edit');\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"restoreEditorDOM\", function (scrollPosition) {\n      _this.setState({\n        contentsKey: _this.state.contentsKey + 1\n      }, function () {\n        _this.focus(scrollPosition);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setClipboard\", function (clipboard) {\n      _this._clipboard = clipboard;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getClipboard\", function () {\n      return _this._clipboard;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"update\", function (editorState) {\n      _this._latestEditorState = editorState;\n\n      _this.props.onChange(editorState);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragEnter\", function () {\n      _this._dragCount++;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragLeave\", function () {\n      _this._dragCount--;\n\n      if (_this._dragCount === 0) {\n        _this.exitCurrentMode();\n      }\n    });\n\n    _this._blockSelectEvents = false;\n    _this._clipboard = null;\n    _this._handler = null;\n    _this._dragCount = 0;\n    _this._editorKey = props.editorKey || generateRandomKey();\n    _this._placeholderAccessibilityID = 'placeholder-' + _this._editorKey;\n    _this._latestEditorState = props.editorState;\n    _this._latestCommittedEditorState = props.editorState;\n    _this._onBeforeInput = _this._buildHandler('onBeforeInput');\n    _this._onBlur = _this._buildHandler('onBlur');\n    _this._onCharacterData = _this._buildHandler('onCharacterData');\n    _this._onCompositionEnd = _this._buildHandler('onCompositionEnd');\n    _this._onCompositionStart = _this._buildHandler('onCompositionStart');\n    _this._onCopy = _this._buildHandler('onCopy');\n    _this._onCut = _this._buildHandler('onCut');\n    _this._onDragEnd = _this._buildHandler('onDragEnd');\n    _this._onDragOver = _this._buildHandler('onDragOver');\n    _this._onDragStart = _this._buildHandler('onDragStart');\n    _this._onDrop = _this._buildHandler('onDrop');\n    _this._onInput = _this._buildHandler('onInput');\n    _this._onFocus = _this._buildHandler('onFocus');\n    _this._onKeyDown = _this._buildHandler('onKeyDown');\n    _this._onKeyPress = _this._buildHandler('onKeyPress');\n    _this._onKeyUp = _this._buildHandler('onKeyUp');\n    _this._onMouseDown = _this._buildHandler('onMouseDown');\n    _this._onMouseUp = _this._buildHandler('onMouseUp');\n    _this._onPaste = _this._buildHandler('onPaste');\n    _this._onSelect = _this._buildHandler('onSelect');\n\n    _this.getEditorKey = function () {\n      return _this._editorKey;\n    };\n\n    if (process.env.NODE_ENV !== \"production\") {\n      ['onDownArrow', 'onEscape', 'onLeftArrow', 'onRightArrow', 'onTab', 'onUpArrow'].forEach(function (propName) {\n        if (props.hasOwnProperty(propName)) {\n          // eslint-disable-next-line no-console\n          console.warn(\"Supplying an `\".concat(propName, \"` prop to `DraftEditor` has \") + 'been deprecated. If your handler needs access to the keyboard ' + 'event, supply a custom `keyBindingFn` prop that falls back to ' + 'the default one (eg. https://is.gd/RG31RJ).');\n        }\n      });\n    } // See `restoreEditorDOM()`.\n\n\n    _this.state = {\n      contentsKey: 0\n    };\n    return _this;\n  }\n  /**\n   * Build a method that will pass the event to the specified handler method.\n   * This allows us to look up the correct handler function for the current\n   * editor mode, if any has been specified.\n   */\n\n\n  var _proto2 = DraftEditor.prototype;\n\n  _proto2._buildHandler = function _buildHandler(eventName) {\n    var _this2 = this;\n\n    var flushControlled =\n    /* $FlowFixMe(>=0.79.1 site=www) This comment suppresses an error found\n     * when Flow v0.79 was deployed. To see the error delete this comment and\n     * run Flow. */\n    ReactDOM.unstable_flushControlled; // Wrap event handlers in `flushControlled`. In sync mode, this is\n    // effectively a no-op. In async mode, this ensures all updates scheduled\n    // inside the handler are flushed before React yields to the browser.\n\n    return function (e) {\n      if (!_this2.props.readOnly) {\n        var method = _this2._handler && _this2._handler[eventName];\n\n        if (method) {\n          if (flushControlled) {\n            flushControlled(function () {\n              return method(_this2, e);\n            });\n          } else {\n            method(_this2, e);\n          }\n        }\n      }\n    };\n  };\n\n  _proto2._showPlaceholder = function _showPlaceholder() {\n    return !!this.props.placeholder && !this.props.editorState.isInCompositionMode() && !this.props.editorState.getCurrentContent().hasText();\n  };\n\n  _proto2._renderPlaceholder = function _renderPlaceholder() {\n    if (this._showPlaceholder()) {\n      var placeHolderProps = {\n        text: nullthrows(this.props.placeholder),\n        editorState: this.props.editorState,\n        textAlignment: this.props.textAlignment,\n        accessibilityID: this._placeholderAccessibilityID\n      };\n      /* $FlowFixMe(>=0.112.0 site=mobile) This comment suppresses an error\n       * found when Flow v0.112 was deployed. To see the error delete this\n       * comment and run Flow. */\n\n      /* $FlowFixMe(>=0.112.0 site=www) This comment suppresses an error found\n       * when Flow v0.112 was deployed. To see the error delete this comment\n       * and run Flow. */\n\n      /* $FlowFixMe(>=0.112.0 site=www,mobile) This comment suppresses an error\n       * found when Flow v0.112 was deployed. To see the error delete this\n       * comment and run Flow. */\n\n      return React.createElement(DraftEditorPlaceholder, placeHolderProps);\n    }\n\n    return null;\n  };\n\n  _proto2.render = function render() {\n    var _this3 = this;\n\n    var _this$props2 = this.props,\n        blockRenderMap = _this$props2.blockRenderMap,\n        blockRendererFn = _this$props2.blockRendererFn,\n        blockStyleFn = _this$props2.blockStyleFn,\n        customStyleFn = _this$props2.customStyleFn,\n        customStyleMap = _this$props2.customStyleMap,\n        editorState = _this$props2.editorState,\n        readOnly = _this$props2.readOnly,\n        textAlignment = _this$props2.textAlignment,\n        textDirectionality = _this$props2.textDirectionality;\n    var rootClass = cx({\n      'DraftEditor/root': true,\n      'DraftEditor/alignLeft': textAlignment === 'left',\n      'DraftEditor/alignRight': textAlignment === 'right',\n      'DraftEditor/alignCenter': textAlignment === 'center'\n    });\n    var contentStyle = {\n      outline: 'none',\n      // fix parent-draggable Safari bug. #1326\n      userSelect: 'text',\n      WebkitUserSelect: 'text',\n      whiteSpace: 'pre-wrap',\n      wordWrap: 'break-word'\n    }; // The aria-expanded and aria-haspopup properties should only be rendered\n    // for a combobox.\n\n    /* $FlowFixMe(>=0.68.0 site=www,mobile) This comment suppresses an error\n     * found when Flow v0.68 was deployed. To see the error delete this comment\n     * and run Flow. */\n\n    var ariaRole = this.props.role || 'textbox';\n    var ariaExpanded = ariaRole === 'combobox' ? !!this.props.ariaExpanded : null;\n    var editorContentsProps = {\n      blockRenderMap: blockRenderMap,\n      blockRendererFn: blockRendererFn,\n      blockStyleFn: blockStyleFn,\n      customStyleMap: _objectSpread({}, DefaultDraftInlineStyle, customStyleMap),\n      customStyleFn: customStyleFn,\n      editorKey: this._editorKey,\n      editorState: editorState,\n      textDirectionality: textDirectionality\n    };\n    return React.createElement(\"div\", {\n      className: rootClass\n    }, this._renderPlaceholder(), React.createElement(\"div\", {\n      className: cx('DraftEditor/editorContainer'),\n      ref: function ref(_ref3) {\n        return _this3.editorContainer = _ref3;\n      }\n    }, React.createElement(\"div\", {\n      \"aria-activedescendant\": readOnly ? null : this.props.ariaActiveDescendantID,\n      \"aria-autocomplete\": readOnly ? null : this.props.ariaAutoComplete,\n      \"aria-controls\": readOnly ? null : this.props.ariaControls,\n      \"aria-describedby\": this.props.ariaDescribedBy || this._placeholderAccessibilityID,\n      \"aria-expanded\": readOnly ? null : ariaExpanded,\n      \"aria-label\": this.props.ariaLabel,\n      \"aria-labelledby\": this.props.ariaLabelledBy,\n      \"aria-multiline\": this.props.ariaMultiline,\n      \"aria-owns\": readOnly ? null : this.props.ariaOwneeID,\n      autoCapitalize: this.props.autoCapitalize,\n      autoComplete: this.props.autoComplete,\n      autoCorrect: this.props.autoCorrect,\n      className: cx({\n        // Chrome's built-in translation feature mutates the DOM in ways\n        // that Draft doesn't expect (ex: adding <font> tags inside\n        // DraftEditorLeaf spans) and causes problems. We add notranslate\n        // here which makes its autotranslation skip over this subtree.\n        notranslate: !readOnly,\n        'public/DraftEditor/content': true\n      }),\n      contentEditable: !readOnly,\n      \"data-testid\": this.props.webDriverTestID,\n      onBeforeInput: this._onBeforeInput,\n      onBlur: this._onBlur,\n      onCompositionEnd: this._onCompositionEnd,\n      onCompositionStart: this._onCompositionStart,\n      onCopy: this._onCopy,\n      onCut: this._onCut,\n      onDragEnd: this._onDragEnd,\n      onDragEnter: this.onDragEnter,\n      onDragLeave: this.onDragLeave,\n      onDragOver: this._onDragOver,\n      onDragStart: this._onDragStart,\n      onDrop: this._onDrop,\n      onFocus: this._onFocus,\n      onInput: this._onInput,\n      onKeyDown: this._onKeyDown,\n      onKeyPress: this._onKeyPress,\n      onKeyUp: this._onKeyUp,\n      onMouseUp: this._onMouseUp,\n      onPaste: this._onPaste,\n      onSelect: this._onSelect,\n      ref: function ref(_ref2) {\n        return _this3.editor = _ref2;\n      },\n      role: readOnly ? null : ariaRole,\n      spellCheck: allowSpellCheck && this.props.spellCheck,\n      style: contentStyle,\n      suppressContentEditableWarning: true,\n      tabIndex: this.props.tabIndex\n    }, React.createElement(UpdateDraftEditorFlags, {\n      editor: this,\n      editorState: editorState\n    }), React.createElement(DraftEditorContents, _extends({}, editorContentsProps, {\n      key: 'contents' + this.state.contentsKey\n    })))));\n  };\n\n  _proto2.componentDidMount = function componentDidMount() {\n    this._blockSelectEvents = false;\n\n    if (!didInitODS && gkx('draft_ods_enabled')) {\n      didInitODS = true;\n      DraftEffects.initODS();\n    }\n\n    this.setMode('edit');\n    /**\n     * IE has a hardcoded \"feature\" that attempts to convert link text into\n     * anchors in contentEditable DOM. This breaks the editor's expectations of\n     * the DOM, and control is lost. Disable it to make IE behave.\n     * See: http://blogs.msdn.com/b/ieinternals/archive/2010/09/15/\n     * ie9-beta-minor-change-list.aspx\n     */\n\n    if (isIE) {\n      // editor can be null after mounting\n      // https://stackoverflow.com/questions/44074747/componentdidmount-called-before-ref-callback\n      if (!this.editor) {\n        global.execCommand('AutoUrlDetect', false, false);\n      } else {\n        this.editor.ownerDocument.execCommand('AutoUrlDetect', false, false);\n      }\n    }\n  };\n\n  _proto2.componentDidUpdate = function componentDidUpdate() {\n    this._blockSelectEvents = false;\n    this._latestEditorState = this.props.editorState;\n    this._latestCommittedEditorState = this.props.editorState;\n  }\n  /**\n   * Used via `this.focus()`.\n   *\n   * Force focus back onto the editor node.\n   *\n   * We attempt to preserve scroll position when focusing. You can also pass\n   * a specified scroll position (for cases like `cut` behavior where it should\n   * be restored to a known position).\n   */\n  ;\n\n  return DraftEditor;\n}(React.Component);\n\n_defineProperty(DraftEditor, \"defaultProps\", {\n  blockRenderMap: DefaultDraftBlockRenderMap,\n  blockRendererFn: function blockRendererFn() {\n    return null;\n  },\n  blockStyleFn: function blockStyleFn() {\n    return '';\n  },\n  keyBindingFn: getDefaultKeyBinding,\n  readOnly: false,\n  spellCheck: false,\n  stripPastedStyles: false\n});\n\nmodule.exports = DraftEditor;"]},"metadata":{},"sourceType":"script"}