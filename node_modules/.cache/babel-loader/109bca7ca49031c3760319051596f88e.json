{"ast":null,"code":"import firebase from 'firebase/app';\nexport const registerIntroduction = introData => {\n  return (dispatch, getState, {\n    getFirestore\n  }) => {\n    const firestore = getFirestore();\n    const user = firebase.auth().currentUser;\n    let docRef = firestore.collection('users').doc(user.uid);\n    let storageRef = firebase.storage().ref('images/editors/' + docRef.id).child(introData.editor_profileImg_file.name);\n    storageRef.put(introData.editor_profileImg_file).then(() => {\n      storageRef.getDownloadURL().then(url => {\n        docRef.update({\n          editor_profileImg_file: url,\n          editor_introduction: introData.introduction,\n          editor_career_year: introData.career_year,\n          editor_career: introData.career,\n          editor_portfolio: introData.portfolio\n        });\n      });\n    }).then(() => {\n      dispatch({\n        type: 'INTRODUCTION_REGISTER_SUCCESS'\n      });\n    }).catch(err => {\n      dispatch({\n        type: 'INTRODUCTION_REGISTER_ERROR'\n      }, err);\n    });\n  };\n};","map":{"version":3,"sources":["/Users/JeHongHwang/Desktop/leekang/src/store/actions/editorAction.js"],"names":["firebase","registerIntroduction","introData","dispatch","getState","getFirestore","firestore","user","auth","currentUser","docRef","collection","doc","uid","storageRef","storage","ref","id","child","editor_profileImg_file","name","put","then","getDownloadURL","url","update","editor_introduction","introduction","editor_career_year","career_year","editor_career","career","editor_portfolio","portfolio","type","catch","err"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,cAArB;AAEA,OAAO,MAAMC,oBAAoB,GAAIC,SAAD,IAAe;AAClD,SAAM,CAACC,QAAD,EAAWC,QAAX,EAAqB;AAACC,IAAAA;AAAD,GAArB,KAAwC;AAC7C,UAAMC,SAAS,GAAGD,YAAY,EAA9B;AACA,UAAME,IAAI,GAAGP,QAAQ,CAACQ,IAAT,GAAgBC,WAA7B;AACA,QAAIC,MAAM,GAAGJ,SAAS,CAACK,UAAV,CAAqB,OAArB,EAA8BC,GAA9B,CAAkCL,IAAI,CAACM,GAAvC,CAAb;AACA,QAAIC,UAAU,GAAGd,QAAQ,CAACe,OAAT,GAAmBC,GAAnB,CAAuB,oBAAoBN,MAAM,CAACO,EAAlD,EAAsDC,KAAtD,CAA4DhB,SAAS,CAACiB,sBAAV,CAAiCC,IAA7F,CAAjB;AACAN,IAAAA,UAAU,CAACO,GAAX,CAAenB,SAAS,CAACiB,sBAAzB,EACCG,IADD,CACM,MAAM;AACXR,MAAAA,UAAU,CAACS,cAAX,GACCD,IADD,CACOE,GAAD,IAAS;AACdd,QAAAA,MAAM,CAACe,MAAP,CAAc;AACbN,UAAAA,sBAAsB,EAAEK,GADX;AAEbE,UAAAA,mBAAmB,EAAExB,SAAS,CAACyB,YAFlB;AAGbC,UAAAA,kBAAkB,EAAE1B,SAAS,CAAC2B,WAHjB;AAIbC,UAAAA,aAAa,EAAE5B,SAAS,CAAC6B,MAJZ;AAKbC,UAAAA,gBAAgB,EAAE9B,SAAS,CAAC+B;AALf,SAAd;AAOA,OATD;AAUA,KAZD,EAaCX,IAbD,CAaM,MAAM;AACXnB,MAAAA,QAAQ,CAAC;AAAC+B,QAAAA,IAAI,EAAE;AAAP,OAAD,CAAR;AACA,KAfD,EAgBCC,KAhBD,CAgBQC,GAAD,IAAS;AACfjC,MAAAA,QAAQ,CAAC;AAAC+B,QAAAA,IAAI,EAAE;AAAP,OAAD,EAAwCE,GAAxC,CAAR;AACA,KAlBD;AAmBA,GAxBD;AAyBA,CA1BM","sourcesContent":["import firebase from 'firebase/app';\n\nexport const registerIntroduction = (introData) => {\n\treturn(dispatch, getState, {getFirestore}) => {\n\t\tconst firestore = getFirestore();\n\t\tconst user = firebase.auth().currentUser;\n\t\tlet docRef = firestore.collection('users').doc(user.uid);\n\t\tlet storageRef = firebase.storage().ref('images/editors/' + docRef.id).child(introData.editor_profileImg_file.name);\n\t\tstorageRef.put(introData.editor_profileImg_file)\n\t\t.then(() => {\n\t\t\tstorageRef.getDownloadURL()\n\t\t\t.then((url) => {\n\t\t\t\tdocRef.update({\n\t\t\t\t\teditor_profileImg_file: url,\n\t\t\t\t\teditor_introduction: introData.introduction,\n\t\t\t\t\teditor_career_year: introData.career_year,\n\t\t\t\t\teditor_career: introData.career,\n\t\t\t\t\teditor_portfolio: introData.portfolio,\n\t\t\t\t})\n\t\t\t})\n\t\t})\n\t\t.then(() => {\n\t\t\tdispatch({type: 'INTRODUCTION_REGISTER_SUCCESS'})\n\t\t})\n\t\t.catch((err) => {\n\t\t\tdispatch({type: 'INTRODUCTION_REGISTER_ERROR'}, err)\n\t\t});\n\t}\n}"]},"metadata":{},"sourceType":"module"}