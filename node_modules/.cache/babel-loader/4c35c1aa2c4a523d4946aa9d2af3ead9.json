{"ast":null,"code":"var _jsxFileName = \"/Users/JeHongHwang/Desktop/leekang/src/components/chats/ChatTextBox.js\";\nimport React, { Component } from 'react';\nimport './chatTextBox.css';\nimport { connect } from 'react-redux';\nimport { sendMessage } from '../../store/actions/chatAction';\n\nclass ChatTextBox extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      sender: this.props.profile.initials,\n      message: '',\n      file: '',\n      fileName: ''\n    };\n\n    this.initState = () => {\n      this.setState({\n        message: '',\n        file: '',\n        fileName: ''\n      });\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.id]: e.target.value\n      });\n    };\n\n    this.handleSubmit = e => {\n      if (!this.state.message && !this.state.file) {\n        e.preventDefault();\n        return;\n      }\n\n      e.preventDefault();\n      document.querySelector('#message').value = '';\n      this.props.sendMessage(this.state, this.props.chatId);\n      this.initState();\n    };\n\n    this.enterSubmit = e => {\n      if (!e.target.value && e.keyCode === 13) {\n        e.preventDefault();\n        return;\n      }\n\n      if (e.which === 13 && !e.shiftKey) {\n        e.preventDefault();\n        this.handleSubmit(e);\n      }\n    };\n\n    this.handleUpload = e => {\n      const file = e.target.files[0];\n      this.setState({\n        fileName: file.name,\n        [e.target.id]: file\n      });\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"chat-text-box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      id: \"chatForm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-field text-box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"message\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }), React.createElement(\"textarea\", {\n      id: \"message\",\n      col: \"1\",\n      row: \"50\",\n      onChange: this.handleChange,\n      onKeyDown: this.enterSubmit,\n      placeholder: \"\\uBA54\\uC2DC\\uC9C0\\uB97C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"file-field input-field\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"btn myomColor-background fileBtn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"material-icons\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, \"file_upload\"), React.createElement(\"input\", {\n      type: \"file\",\n      id: \"file\",\n      onChange: this.handleUpload,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"input-field\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn myomColor-background chat-send-btn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"\\uC804\\uC1A1\\uD558\\uAE30\"))), this.state.fileName ? React.createElement(\"div\", {\n      className: \"will-upload-area row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      style: {\n        paddingLeft: '0'\n      },\n      className: \"col s6 left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, this.state.fileName), React.createElement(\"span\", {\n      style: {\n        paddingRight: '0',\n        textAlign: 'right'\n      },\n      className: \"col s6 right red-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, \"*\\uD30C\\uC77C\\uC740 \\uD55C\\uBC88\\uC5D0 \\uCD5C\\uB300 \\uD55C\\uAC1C\\uB9CC \\uAC00\\uB2A5\\uD569\\uB2C8\\uB2E4. \\uAC00\\uAE09\\uC801 \\uC54C\\uC9D1\\uC73C\\uB85C \\uBCF4\\uB0B4\\uC8FC\\uC138\\uC694!\")) : null);\n  }\n\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    sendMessage: (chatData, chatId) => dispatch(sendMessage(chatData, chatId))\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(ChatTextBox);","map":{"version":3,"sources":["/Users/JeHongHwang/Desktop/leekang/src/components/chats/ChatTextBox.js"],"names":["React","Component","connect","sendMessage","ChatTextBox","state","sender","props","profile","initials","message","file","fileName","initState","setState","handleChange","e","target","id","value","handleSubmit","preventDefault","document","querySelector","chatId","enterSubmit","keyCode","which","shiftKey","handleUpload","files","name","render","paddingLeft","paddingRight","textAlign","mapDispatchToProps","dispatch","chatData"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './chatTextBox.css'\nimport { connect } from 'react-redux'\nimport { sendMessage } from '../../store/actions/chatAction'\n\nclass ChatTextBox extends Component {\n\tstate = {\n\t\tsender: this.props.profile.initials,\n\t\tmessage: '',\n    file: '',\n    fileName: '',\n\t}\n  initState = () => {\n    this.setState({\n      message: '',\n      file: '',\n      fileName: '',\n    })\n  }\n\thandleChange = (e) => {\n\t\tthis.setState({\n\t\t\t[e.target.id] : e.target.value\n\t\t})\n\t}\n \n\thandleSubmit = (e) => {\n    if(!this.state.message && !this.state.file) {\n      e.preventDefault();\n      return;\n    }\n\t\te.preventDefault();\n\t\tdocument.querySelector('#message').value = '';\n    this.props.sendMessage(this.state, this.props.chatId);\n    this.initState();\n\t}\n\n\tenterSubmit = (e) => {\n    if(!e.target.value && e.keyCode === 13) {\n      e.preventDefault();\n      return;\n    }\n\t\tif(e.which === 13 && !e.shiftKey){\n\t\t\te.preventDefault();\n\t\t\tthis.handleSubmit(e);\n    }\n\t}\n\n\thandleUpload = (e) => {\n    const file = e.target.files[0];\n\t\tthis.setState({\n      fileName: file.name,\n\t\t\t[e.target.id] : file,\n\t\t})\n\t}\n\trender() {\n\t\treturn(\n\t\t\t<div className=\"chat-text-box\">\n\t\t\t\t<form onSubmit = {this.handleSubmit} id='chatForm'>\n\t\t\t\t\t<div className=\"input-field text-box\">\n\t\t\t\t\t\t<label htmlFor=\"message\"></label>\n\t\t\t\t\t\t<textarea id=\"message\" col=\"1\" row=\"50\" onChange={this.handleChange} onKeyDown = {this.enterSubmit} placeholder=\"메시지를 입력해주세요.\"></textarea>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"file-field input-field\">\n\t\t\t\t\t\t<div className=\"btn myomColor-background fileBtn\">\n\t\t\t\t\t\t\t<i className=\"material-icons\">file_upload</i>\n\t\t\t\t\t\t\t<input type=\"file\" id='file' onChange={this.handleUpload} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/* <div className=\"file-path-wrapper\">\n\t\t\t\t\t\t\t<input type=\"text\" className=\"file-path validate\" />\n\t\t\t\t\t\t</div> */}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"input-field\">\n\t\t\t\t\t\t<button className=\"btn myomColor-background chat-send-btn\">전송하기</button>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n        {\n          (this.state.fileName)\n            ? (\n              <div className=\"will-upload-area row\">\n                <span style={{paddingLeft: '0'}} className='col s6 left'>{ this.state.fileName }</span>\n                <span style={{paddingRight: '0', textAlign: 'right'}} className='col s6 right red-text'>*파일은 한번에 최대 한개만 가능합니다. 가급적 알집으로 보내주세요!</span>\n              </div>\n            )\n            : null\n        }\n        \n\t\t\t</div>\n\t\t)\n\t}\n}\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn{\n\t\tsendMessage: (chatData, chatId) => dispatch(sendMessage(chatData, chatId))\n\t}\n}\nexport default connect(null, mapDispatchToProps)(ChatTextBox);"]},"metadata":{},"sourceType":"module"}