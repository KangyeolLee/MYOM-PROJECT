{"ast":null,"code":"import _objectSpread from \"/Users/JeHongHwang/Desktop/leekang/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"/Users/JeHongHwang/Desktop/leekang/src/components/provider/ProviderRegister.js\";\nimport React, { Component } from 'react';\nimport M from 'materialize-css';\nimport moment from 'moment';\nimport { connect } from 'react-redux';\nimport { isLoaded } from 'react-redux-firebase';\nimport { Redirect } from 'react-router-dom';\nimport Loader from '../functionalComponents/Loader';\nimport ProviderRegisterStep1 from './ProviderRegisterStep1';\nimport './providerRegister.css';\nimport ProviderRegisterStep2 from './ProviderRegisterStep2';\nimport ProviderRegisterStep3 from './ProviderRegisterStep3';\nimport ProviderRegisterStep4 from './ProviderRegisterStep4';\nimport { providerRegister } from '../../store/actions/serviceFormAction';\n\nclass ProviderRegister extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      currentStep: 1,\n      histories: [{\n        history0: {\n          history0_date: ['', ''],\n          history0_content: '',\n          history0_reference: ''\n        }\n      }],\n      editorTool: [{\n        tool0: {\n          name: '',\n          percent: 50\n        }\n      }],\n      account_person: '',\n      account_bank: '',\n      account_number: ''\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      this.props.providerRegister(this.state, this.props.history);\n    };\n\n    this.handleChange = e => {\n      e.preventDefault();\n      const target_id = e.target.id;\n      this.setState({\n        need: false,\n        [target_id]: e.target.value\n      });\n    };\n\n    this.handleDatepicker = e => {\n      const pickerOptions = {\n        format: 'yyyy.mm.dd',\n        yearRange: 100,\n        i18n: {\n          months: ['1월', '2월', '3월', '4월', '5월', '6월', '7월', '8월', '9월', '10월', '11월', '12월'],\n          cancel: '닫기',\n          done: '선택',\n          monthsShort: ['1월', '2월', '3월', '4월', '5월', '6월', '7월', '8월', '9월', '10월', '11월', '12월'],\n          weekdays: ['일요일', '월요일', '화요일', '수요일', '목요일', '금요일', '토요일'],\n          weekdaysShort: ['일요일', '월요일', '화요일', '수요일', '목요일', '금요일', '토요일']\n        }\n      };\n      const target_id = e.target.id;\n      const target_class = e.target.className;\n      const picker = document.querySelectorAll('#' + target_id);\n      let date_index = target_class.includes('startAt') ? 0 : 1;\n      let selector = target_id.split('_').shift();\n      M.Datepicker.init(picker, _objectSpread({}, pickerOptions, {\n        onSelect: e => {\n          let timestamp = new Date(e);\n          let origin = this.state.histories;\n          let copied = this.state.histories.filter(condi => condi[selector] !== undefined).flatMap(history => history[selector][target_id]);\n          copied[date_index] = moment(timestamp).format('YYYY.MM.DD');\n          origin.forEach(item => {\n            if (item.hasOwnProperty(selector)) {\n              item[selector][target_id] = copied;\n            }\n          }); // console.log(origin);\n\n          this.setState({\n            histories: origin\n          });\n        }\n      }));\n    };\n\n    this.handleEditorHistory = e => {\n      e.preventDefault();\n      const target_id = e.target.id;\n      const selector = target_id.split('_').shift(); // history0\n\n      let target_value = e.target.value;\n      let origin = this.state.histories;\n      let copied = this.state.histories.filter(condi => condi[selector] !== undefined).flatMap(history => history[selector][target_id]);\n      copied = target_value;\n      origin.forEach(item => {\n        if (item.hasOwnProperty(selector)) {\n          item[selector][target_id] = copied;\n        }\n      });\n      this.setState({\n        histories: origin\n      });\n    };\n\n    this.handleEditorTools = e => {\n      e.preventDefault();\n      const target_id = e.target.id;\n      const selector = target_id.split('_').shift();\n      const route = target_id.split('_').pop();\n      let target_value = e.target.value;\n      let origin = this.state.editorTool;\n      let copied = this.state.editorTool.filter(condi => condi[selector] !== undefined).flatMap(tool => tool[selector][route]);\n      copied = target_value;\n      origin.forEach(item => {\n        if (item.hasOwnProperty(selector)) {\n          item[selector][route] = copied;\n        }\n      });\n      this.setState({\n        need: false,\n        editorTool: origin\n      });\n    };\n\n    this.handleRange = name => (e, value) => {\n      e.preventDefault();\n      const selector = name.split('_').shift();\n      const route = name.split('_').pop();\n      let origin = this.state.editorTool;\n      let copied = this.state.editorTool.filter(condi => condi[selector] !== undefined).flatMap(tool => tool[selector][route]);\n      copied = value;\n      origin.forEach(item => {\n        if (item.hasOwnProperty(selector)) {\n          item[selector][route] = copied;\n        }\n      });\n      this.setState({\n        editorTool: origin\n      });\n    };\n\n    this.handleMoreBtn = e => {\n      e.preventDefault();\n      const target_id = e.target.id;\n      let count;\n      let name;\n\n      if (target_id === 'history') {\n        count = this.state.histories.length;\n        name = 'history' + count;\n        this.setState(prevState => ({\n          histories: [...prevState.histories, {\n            [name]: {\n              [name + '_date']: ['', ''],\n              [name + '_content']: '',\n              [name + '_reference']: ''\n            }\n          }]\n        }));\n      } else if (target_id === 'editor-tool') {\n        count = this.state.editorTool.length;\n        name = 'tool' + count;\n        this.setState(prevState => ({\n          editorTool: [...prevState.editorTool, {\n            [name]: {\n              name: '',\n              percent: 50\n            }\n          }]\n        }));\n      }\n    };\n\n    this.handleImgUpload = e => {\n      e.preventDefault();\n      if (!e.target.value) return;\n      const no_valid = [...document.querySelectorAll('.img-uploader')];\n      let reader = new FileReader();\n      let file = e.target.files[0];\n      let file_exe = file.name.split('.').pop().toLowerCase();\n      let file_size = (file.size / 1024 / 1024).toFixed(2);\n      reader.readAsDataURL(file);\n\n      if (file_size > 5) {\n        e.target.value = '';\n        alert('5MB 이하의 사진파일로 업로드 해주세요!');\n        return;\n      }\n\n      if (file_exe === 'jpg' || file_exe === 'jpeg' || file_exe === 'png' || file_exe === 'gif') {\n        reader.onloadend = () => {\n          this.setState({\n            need: false,\n            profileImg: reader.result,\n            profileFile: file\n          });\n        };\n      } else {\n        no_valid.forEach(file => file.value = '');\n        alert('이미지 파일(jpg, jpeg, png, gif)만 지원합니다.');\n        return;\n      }\n    };\n\n    this._next = e => {\n      e.preventDefault();\n      let _required = [...document.querySelectorAll('.required')];\n\n      let current_required = _required.filter(item => {\n        if (item.id === 'profile-img') return this.state.profileFile === '';else return item.value === '';\n      }).length;\n\n      if (current_required) {\n        this.setState({\n          need: true\n        });\n        return;\n      }\n\n      let currentStep = this.state.currentStep;\n      currentStep = currentStep >= 3 ? 4 : currentStep + 1;\n      this.setState({\n        currentStep\n      });\n      window.scrollTo(0, 0);\n    };\n\n    this._prev = e => {\n      e.preventDefault();\n      let currentStep = this.state.currentStep;\n      currentStep = currentStep <= 1 ? 1 : currentStep - 1;\n      this.setState({\n        currentStep\n      });\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.currentStep !== this.state.currentStep) {\n      M.Modal.init(document.querySelector('#pay-control.modal'));\n    }\n  }\n\n  componentDidMount() {\n    M.AutoInit();\n  }\n\n  render() {\n    if (!isLoaded(this.props.profile)) return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292\n      },\n      __self: this\n    }, \"\\uB85C\\uB529\\uC911...\");\n    const profile = this.props.profile;\n    if (profile.hasOwnProperty('editor')) return React.createElement(Redirect, {\n      to: \"/providerRegisterDone\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295\n      },\n      __self: this\n    });\n    console.log(this.state);\n    return React.createElement(\"div\", {\n      className: \"container providerRegister\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"hidden-for-loading\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301\n      },\n      __self: this\n    }, React.createElement(Loader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"progress for-loading\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        width: '0%'\n      },\n      className: \"determinate\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"row progress-bar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        height: '.8rem'\n      },\n      className: \"progress col s12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        width: Math.floor(25 * this.state.currentStep) + '%'\n      },\n      className: \"determinate\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310\n      },\n      __self: this\n    }))), React.createElement(\"form\", {\n      className: \"row\",\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card col s12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"scorehvy center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316\n      },\n      __self: this\n    }, \"\\uD3B8\\uC9D1\\uC790\\uB2D8\\uC758 \\uB4F1\\uB85D\\uC744 \\uD658\\uC601\\uD569\\uB2C8\\uB2E4!\"), React.createElement(\"h6\", {\n      style: {\n        marginBottom: '3rem'\n      },\n      className: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317\n      },\n      __self: this\n    }, \"\\uC8FC\\uC5B4\\uC9C4 \\uD56D\\uBAA9\\uC744 \\uC791\\uC131\\uD574\\uC8FC\\uC138\\uC694!\"), React.createElement(ProviderRegisterStep1, {\n      need: this.state.need ? this.state.need : '',\n      profile: profile,\n      personal_feelings: this.state.personal_feelings ? this.state.personal_feelings : '',\n      handleChange: this.handleChange,\n      intro: this.state.intro ? this.state.intro : '',\n      profileImg: this.state.profileImg ? this.state.profileImg : '',\n      handleImgUpload: this.handleImgUpload,\n      currentStep: this.state.currentStep,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319\n      },\n      __self: this\n    }), React.createElement(ProviderRegisterStep2, {\n      need: this.state.need ? this.state.need : '',\n      handleEditorHistory: this.handleEditorHistory,\n      handleDatepicker: this.handleDatepicker,\n      handleMoreBtn: this.handleMoreBtn,\n      histories: this.state.histories,\n      currentStep: this.state.currentStep,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320\n      },\n      __self: this\n    }), React.createElement(ProviderRegisterStep3, {\n      need: this.state.need ? this.state.need : '',\n      handleRange: this.handleRange,\n      handleEditorTools: this.handleEditorTools,\n      handleMoreBtn: this.handleMoreBtn,\n      editorTool: this.state.editorTool,\n      currentStep: this.state.currentStep,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321\n      },\n      __self: this\n    }), React.createElement(ProviderRegisterStep4, {\n      need: this.state.need ? this.state.need : '',\n      account_person: this.state.account_person,\n      account_bank: this.state.account_bank,\n      account_number: this.state.account_number,\n      handleChange: this.handleChange,\n      currentStep: this.state.currentStep,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      style: {\n        fontSize: '12px',\n        margin: '2.5rem 0'\n      },\n      className: \"col s12 guide-msg center grey-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324\n      },\n      __self: this\n    }, \"\\uD574\\uB2F9 \\uD398\\uC774\\uC9C0\\uB294 \\uBAA8\\uBC14\\uC77C \\uCD5C\\uC801\\uD654\\uAC00 \\uACE0\\uB824\\uB418\\uC9C0 \\uC54A\\uC558\\uC2B5\\uB2C8\\uB2E4. \\uAC00\\uAE09\\uC801\\uC774\\uBA74 PC\\uB85C \\uC774\\uC6A9 \\uBD80\\uD0C1\\uB4DC\\uB9BD\\uB2C8\\uB2E4.\")), React.createElement(\"div\", {\n      className: \"card col s12 z-depth-0 hidden\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327\n      },\n      __self: this\n    }, this.state.currentStep < 4 ? React.createElement(\"div\", {\n      onClick: this._next,\n      className: \"btn blue darken-4 right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328\n      },\n      __self: this\n    }, \"\\uB2E4\\uC74C\") : null, this.state.currentStep !== 1 ? React.createElement(\"div\", {\n      onClick: this._prev,\n      className: \"btn grey darken-2 left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329\n      },\n      __self: this\n    }, \"\\uC774\\uC804\") : null, this.state.currentStep === 4 ? React.createElement(\"button\", {\n      className: \"btn red lighten-3 right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330\n      },\n      __self: this\n    }, \"\\uB4F1\\uB85D\") : null)));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    profile: state.firebase.profile\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    providerRegister: (uid, providerData, history) => dispatch(providerRegister(uid, providerData, history))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProviderRegister);","map":{"version":3,"sources":["/Users/JeHongHwang/Desktop/leekang/src/components/provider/ProviderRegister.js"],"names":["React","Component","M","moment","connect","isLoaded","Redirect","Loader","ProviderRegisterStep1","ProviderRegisterStep2","ProviderRegisterStep3","ProviderRegisterStep4","providerRegister","ProviderRegister","state","currentStep","histories","history0","history0_date","history0_content","history0_reference","editorTool","tool0","name","percent","account_person","account_bank","account_number","handleSubmit","e","preventDefault","props","history","handleChange","target_id","target","id","setState","need","value","handleDatepicker","pickerOptions","format","yearRange","i18n","months","cancel","done","monthsShort","weekdays","weekdaysShort","target_class","className","picker","document","querySelectorAll","date_index","includes","selector","split","shift","Datepicker","init","onSelect","timestamp","Date","origin","copied","filter","condi","undefined","flatMap","forEach","item","hasOwnProperty","handleEditorHistory","target_value","handleEditorTools","route","pop","tool","handleRange","handleMoreBtn","count","length","prevState","handleImgUpload","no_valid","reader","FileReader","file","files","file_exe","toLowerCase","file_size","size","toFixed","readAsDataURL","alert","onloadend","profileImg","result","profileFile","_next","_required","current_required","window","scrollTo","_prev","componentDidUpdate","prevProps","Modal","querySelector","componentDidMount","AutoInit","render","profile","console","log","width","height","Math","floor","marginBottom","personal_feelings","intro","fontSize","margin","mapStateToProps","firebase","mapDispatchToProps","dispatch","uid","providerData"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport M from 'materialize-css';\nimport moment from 'moment';\nimport { connect } from 'react-redux';\nimport { isLoaded } from 'react-redux-firebase';\nimport { Redirect } from 'react-router-dom';\nimport Loader from '../functionalComponents/Loader';\nimport ProviderRegisterStep1 from './ProviderRegisterStep1';\nimport './providerRegister.css';\nimport ProviderRegisterStep2 from './ProviderRegisterStep2';\nimport ProviderRegisterStep3 from './ProviderRegisterStep3';\nimport ProviderRegisterStep4 from './ProviderRegisterStep4';\nimport { providerRegister } from '../../store/actions/serviceFormAction';\n\nclass ProviderRegister extends Component {\n  state = {\n    currentStep: 1,\n    histories: [\n      { history0: {history0_date: ['', ''], history0_content: '', history0_reference: ''} },\n    ],\n    editorTool: [\n      { tool0: { name: '', percent: 50} },\n    ],\n    account_person: '',\n    account_bank: '',\n    account_number: '',\n  }\n  componentDidUpdate(prevProps, prevState) {\n    if(prevState.currentStep !== this.state.currentStep) {\n      M.Modal.init(document.querySelector('#pay-control.modal'));  \n    }\n  }\n  componentDidMount() {\n    M.AutoInit();\n  }\n  handleSubmit = (e) => {\n    e.preventDefault();\n    this.props.providerRegister(this.state, this.props.history);\n  }\n  handleChange = (e) => {\n    e.preventDefault();\n    const target_id = e.target.id;\n\n    this.setState({\n      need: false,\n      [target_id]: e.target.value,\n    });\n  }\n  handleDatepicker = (e) => {\n    const pickerOptions = {\n      format: 'yyyy.mm.dd',\n      yearRange: 100,\n      i18n: {\n        months: [\n          '1월',\n          '2월',\n          '3월',\n          '4월',\n          '5월',\n          '6월',\n          '7월',\n          '8월',\n          '9월',\n          '10월',\n          '11월',\n          '12월',\n        ],\n        cancel: '닫기',\n        done: '선택',\n        monthsShort : [\n          '1월',\n            '2월',\n            '3월',\n            '4월',\n            '5월',\n            '6월',\n            '7월',\n            '8월',\n            '9월',\n            '10월',\n            '11월',\n            '12월',\n        ],\n        weekdays: [\n          '일요일',\n          '월요일',\n          '화요일',\n          '수요일',\n          '목요일',\n          '금요일',\n          '토요일'\n        ],\n        weekdaysShort:[\n          '일요일',\n          '월요일',\n          '화요일',\n          '수요일',\n          '목요일',\n          '금요일',\n          '토요일'\n        ]\n      }\n    }\n    const target_id = e.target.id;\n    const target_class = e.target.className;\n    const picker = document.querySelectorAll('#' + target_id);\n    let date_index = target_class.includes('startAt') ? 0 : 1; \n    let selector = target_id.split('_').shift();  \n\n    M.Datepicker.init(picker, {\n      ...pickerOptions,\n      onSelect: (e) => {\n        let timestamp = new Date(e);\n        let origin = this.state.histories;\n        let copied = this.state.histories.filter(condi => condi[selector] !== undefined).flatMap(history => history[selector][target_id]);\n        copied[date_index] = moment(timestamp).format('YYYY.MM.DD');  \n        origin.forEach(item => {\n          if(item.hasOwnProperty(selector)) {\n            item[selector][target_id] = copied;\n          }\n        })\n\n        // console.log(origin);\n\n        this.setState({\n          histories: origin,\n        })\n      }\n    })\n  }\n  handleEditorHistory = (e) => {\n    e.preventDefault();\n    const target_id = e.target.id;\n    const selector = target_id.split('_').shift();  // history0\n    let target_value = e.target.value;\n    let origin = this.state.histories;\n    let copied = this.state.histories.filter(condi => condi[selector] !== undefined).flatMap(history => history[selector][target_id]);\n\n    copied = target_value;\n    origin.forEach(item => {\n      if(item.hasOwnProperty(selector)) {\n        item[selector][target_id] = copied;\n      }\n    })\n\n    this.setState({\n      histories: origin,\n    })\n\n  }\n  handleEditorTools = (e) => {\n    e.preventDefault();\n    const target_id = e.target.id;\n    const selector = target_id.split('_').shift();\n    const route = target_id.split('_').pop();\n    let target_value = e.target.value;\n    let origin = this.state.editorTool;\n    let copied = this.state.editorTool.filter(condi => condi[selector] !== undefined).flatMap(tool => tool[selector][route]);\n\n    copied = target_value;\n    origin.forEach(item => {\n      if(item.hasOwnProperty(selector)) {\n        item[selector][route] = copied;\n      }\n    })\n\n    this.setState({\n      need: false,\n      editorTool: origin,\n    })\n\n  }\n  handleRange = name => (e, value) => {\n    e.preventDefault();\n    const selector = name.split('_').shift();\n    const route = name.split('_').pop();\n    let origin = this.state.editorTool;\n    let copied = this.state.editorTool.filter(condi => condi[selector] !== undefined).flatMap(tool => tool[selector][route]);\n    \n    copied = value;\n    origin.forEach(item => {\n      if(item.hasOwnProperty(selector)) {\n        item[selector][route] = copied;\n      }\n    });\n\n    this.setState({\n      editorTool: origin,\n    })\n  }\n  handleMoreBtn = (e) => {\n    e.preventDefault();\n    const target_id = e.target.id;\n    let count;\n    let name;\n\n    if(target_id === 'history') {    \n      count = this.state.histories.length;\n      name = 'history' + count;\n\n      this.setState(prevState => ({\n        histories: [\n          ...prevState.histories,\n          { \n            [name]: { \n              [name + '_date']: ['', ''], \n              [name + '_content']: '', \n              [name + '_reference']: ''\n            } \n          },\n        ]\n      }));\n    } else if(target_id === 'editor-tool') {\n      count = this.state.editorTool.length;\n      name = 'tool' + count;\n\n      this.setState(prevState => ({\n        editorTool: [\n          ...prevState.editorTool,\n          {\n            [name]: {\n              name: '',\n              percent: 50,\n            }\n          }\n        ]\n      }));\n    }\n  }\n  handleImgUpload = (e) => {\n    e.preventDefault();\n    if(!e.target.value) return;\n    const no_valid = [...document.querySelectorAll('.img-uploader')];\n    let reader = new FileReader();\n    let file = e.target.files[0];\n    let file_exe = file.name.split('.').pop().toLowerCase();\n    let file_size = (file.size / 1024 / 1024).toFixed(2);\n    reader.readAsDataURL(file);\n\n    if(file_size > 5) {\n      e.target.value = '';\n      alert('5MB 이하의 사진파일로 업로드 해주세요!');\n      return;\n    }\n\n    if(file_exe === 'jpg' || file_exe === 'jpeg' || file_exe === 'png' || file_exe === 'gif') {\n      reader.onloadend = () => {\n        this.setState({\n          need: false,\n          profileImg: reader.result,\n          profileFile: file,\n        })\n      }\n    } else {\n      no_valid.forEach(file => file.value = '');\n      alert('이미지 파일(jpg, jpeg, png, gif)만 지원합니다.');\n      return;\n    }\n  }\n  _next = (e) => {\n    e.preventDefault();\n    let _required = [...document.querySelectorAll('.required')];\n    let current_required = _required.filter(item => { \n      if(item.id === 'profile-img') return this.state.profileFile === '';\n      else return item.value === '';\n    }).length;\n    \n    if(current_required) { \n      this.setState({\n        need: true,\n      })\n      return;\n    }\n\n    let currentStep = this.state.currentStep;\n    currentStep = currentStep >= 3 ? 4 : currentStep + 1;\n    this.setState({\n      currentStep,\n    })\n    window.scrollTo(0,0);\n  }\n  _prev = (e) => {\n    e.preventDefault();\n    let currentStep = this.state.currentStep;\n    currentStep = currentStep <= 1 ? 1 : currentStep - 1;\n    this.setState({\n      currentStep,\n    })\n  }\n\n  render() {\n    if(!isLoaded(this.props.profile)) return <div className='container'>로딩중...</div>\n\n    const profile = this.props.profile;\n    if(profile.hasOwnProperty('editor')) return <Redirect to='/providerRegisterDone' />\n\n    console.log(this.state);\n        \n    return (\n      <div className=\"container providerRegister\">\n        <div id=\"hidden-for-loading\">\n          <Loader />\n          <div className=\"progress for-loading\">\n            <div style={{width: '0%'}} className=\"determinate\"></div>\n          </div>\n        </div>\n\n        <div className=\"row progress-bar\"> \n          <div style={{height: '.8rem'}} className=\"progress col s12\">\n            <div style={{width: Math.floor(25 * this.state.currentStep) + '%'}} className=\"determinate\"></div>\n          </div>\n        </div>\n\n        <form className=\"row\" onSubmit={this.handleSubmit}>\n          <div className=\"card col s12\">\n            <h4 className='scorehvy center'>편집자님의 등록을 환영합니다!</h4>\n            <h6 style={{marginBottom: '3rem'}} className=\"center\">주어진 항목을 작성해주세요!</h6>\n\n            <ProviderRegisterStep1 need={this.state.need ? this.state.need : ''} profile={profile} personal_feelings={this.state.personal_feelings ? this.state.personal_feelings : ''} handleChange={this.handleChange} intro={this.state.intro ? this.state.intro : '' } profileImg={this.state.profileImg ? this.state.profileImg : ''} handleImgUpload={this.handleImgUpload} currentStep={this.state.currentStep} />\n            <ProviderRegisterStep2 need={this.state.need ? this.state.need : ''} handleEditorHistory={this.handleEditorHistory} handleDatepicker={this.handleDatepicker} handleMoreBtn={this.handleMoreBtn} histories={this.state.histories} currentStep={this.state.currentStep} />\n            <ProviderRegisterStep3 need={this.state.need ? this.state.need : ''} handleRange={this.handleRange} handleEditorTools={this.handleEditorTools} handleMoreBtn={this.handleMoreBtn} editorTool={this.state.editorTool} currentStep={this.state.currentStep} />\n            <ProviderRegisterStep4 need={this.state.need ? this.state.need : ''} account_person={this.state.account_person} account_bank={this.state.account_bank} account_number={this.state.account_number} handleChange={this.handleChange} currentStep={this.state.currentStep} />\n\n            <p style={{fontSize: '12px', margin: '2.5rem 0'}} className=\"col s12 guide-msg center grey-text\">해당 페이지는 모바일 최적화가 고려되지 않았습니다. 가급적이면 PC로 이용 부탁드립니다.</p>\n          </div>\n\n          <div className=\"card col s12 z-depth-0 hidden\">\n            { this.state.currentStep < 4 ? <div onClick={this._next} className=\"btn blue darken-4 right\">다음</div> : null }\n            { this.state.currentStep !== 1 ? <div onClick={this._prev} className=\"btn grey darken-2 left\">이전</div> : null }\n            { this.state.currentStep === 4 ? <button className='btn red lighten-3 right'>등록</button> : null }\n          </div>  \n        </form>\n      </div>\n    )\n  }\n}\nconst mapStateToProps = (state) => {\n  return {\n    profile: state.firebase.profile,\n  }\n}\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    providerRegister: (uid, providerData, history) => dispatch(providerRegister(uid, providerData, history)),\n  }\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(ProviderRegister);"]},"metadata":{},"sourceType":"module"}